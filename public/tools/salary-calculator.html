<!DOCTYPE html>
<html lang="zh-TW" class="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 è–ªè³‡å¯¦æ‹¿è¨ˆç®—æ©Ÿï½œTaiCalc</title>
    <meta name="description" content="2026å¹´æœ€æ–°å‹å¥ä¿è²»ç‡ç²¾ç®—ï¼Œæ¯æœˆå¯¦æ‹¿ã€å¹´åº¦æ‰€å¾—ã€5å¹´è–ªè³‡æˆé•·é æ¸¬ã€‚å«é€šè†¨è³¼è²·åŠ›åˆ†æèˆ‡è¦–è¦ºåŒ–åœ–è¡¨ã€‚">
    <meta name="keywords" content="è–ªè³‡è¨ˆç®—,å‹ä¿,å¥ä¿,å‹é€€,å¹´çµ‚çé‡‘,å¯¦æ‹¿è–ªæ°´,2026">
    <link rel="canonical" href="https://taicalc.com/tools/salary-calculator">

    <!-- Open Graph -->
    <meta property="og:title" content="2026 è–ªè³‡å¯¦æ‹¿è¨ˆç®—æ©Ÿï½œTaiCalc">
    <meta property="og:description" content="å°ˆæ¥­ç´šè–ªè³‡è¨ˆç®—ï¼Œå«5å¹´é æ¸¬èˆ‡è³¼è²·åŠ›åˆ†æã€‚">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://taicalc.com/tools/salary-calculator">

    <!-- JSON-LD -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "2026 è–ªè³‡å¯¦æ‹¿è¨ˆç®—æ©Ÿ",
        "url": "https://taicalc.com/tools/salary-calculator",
        "applicationCategory": "FinanceApplication",
        "operatingSystem": "All",
        "offers": { "@type": "Offer", "price": "0" }
    }
    </script>

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        stone: {
                            50: '#fafaf9',
                            800: '#292524',
                        }
                    }
                }
            }
        }
    </script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+TC:wght@400;500;700&display=swap"
        rel="stylesheet">

    <style>
        .chart-container {
            position: relative;
            height: 180px;
        }

        /* Toggle Switch */
        .toggle-checkbox:checked {
            right: 0;
            border-color: #10b981;
        }

        .toggle-checkbox:checked+.toggle-label {
            background-color: #10b981;
        }
    </style>
    <link rel="stylesheet" href="../css/style.css">
</head>

<body class="antialiased min-h-screen flex flex-col">
    <div id="app" v-cloak class="flex-grow max-w-2xl mx-auto w-full px-6 py-8">

        <!-- Header / Global Nav -->
        <nav class="flex items-center justify-between mb-12">
            <a href="../index.html" class="flex items-center gap-2 group">
                <span
                    class="text-xl font-bold tracking-tight text-stone-800 group-hover:text-emerald-600 transition-colors">TaiCalc</span>
            </a>
            <div class="flex gap-4 sm:gap-6 text-sm font-medium text-stone-500">
                <a href="../index.html" class="hover:text-stone-900 transition-colors">é¦–é </a>
                <a href="../categories/finance.html" class="hover:text-stone-900 transition-colors">é€€ä¼‘ç†è²¡</a>
                <a href="../categories/life.html" class="hover:text-stone-900 transition-colors">ç”Ÿæ´»</a>
                <a href="../categories/tools.html" class="hover:text-stone-900 transition-colors">å·¥å…·</a>
            </div>
        </nav>

        <!-- Breadcrumb -->
        <div class="text-sm text-stone-500 mb-8 flex items-center gap-2">
            <a href="../index.html" class="hover:text-stone-800 transition-colors">é¦–é </a>
            <span>/</span>
            <a href="../categories/tools.html" class="hover:text-stone-800 transition-colors">å¯¦ç”¨å·¥å…·</a>
            <span>/</span>
            <span class="text-stone-800 font-medium">è–ªè³‡è¨ˆç®—</span>
        </div>

        <header class="mb-10">
            <div class="flex items-center justify-between mb-4">
                <h1 class="text-3xl font-bold text-stone-900 tracking-tight">è–ªè³‡å¯¦æ‹¿è¨ˆç®—æ©Ÿ</h1>
                <span
                    class="text-xs px-2.5 py-1 rounded-full bg-emerald-100 text-emerald-700 border border-emerald-200 font-medium">2026
                    æœ€æ–°</span>
            </div>
            <p class="text-stone-500 text-sm">å‹å¥ä¿æ‰£é™¤ Â· å‹é€€è‡ªæ Â· å¯¦é ˜é‡‘é¡</p>
        </header>

        <main class="space-y-6">

            <!-- è¼¸å…¥å¡ç‰‡ -->
            <section class="card rounded-2xl p-6 shadow-sm border border-stone-200">
                <!-- æ¯”è¼ƒæ¨¡å¼åˆ‡æ› -->
                <div class="flex items-center justify-between mb-6 pb-6 border-b border-stone-100">
                    <h2 class="text-lg font-bold text-stone-800">è–ªè³‡è¨­å®š</h2>
                    <div class="flex items-center gap-3">
                        <span class="text-sm font-medium"
                            :class="mode === 'compare' ? 'text-stone-800' : 'text-stone-400'">æ¯”è¼ƒæ¨¡å¼</span>
                        <button @click="mode = mode === 'single' ? 'compare' : 'single'" aria-label="åˆ‡æ›æ¯”è¼ƒæ¨¡å¼"
                            class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none"
                            :class="mode === 'compare' ? 'bg-emerald-500' : 'bg-stone-200'">
                            <span class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform"
                                :class="mode === 'compare' ? 'translate-x-6' : 'translate-x-1'"></span>
                        </button>
                    </div>
                </div>

                <div class="grid gap-6" :class="mode === 'compare' ? 'grid-cols-2' : ''">
                    <!-- A æ–¹æ¡ˆ -->
                    <div class="space-y-4">
                        <div v-if="mode === 'compare'"
                            class="font-bold text-stone-900 border-b border-stone-200 pb-2 mb-4">æ–¹æ¡ˆ A (ç¾è·)</div>

                        <div>
                            <label for="salaryA" class="block text-xs font-medium text-stone-500 mb-2">æœˆè–ª (NT$)</label>
                            <input id="salaryA" type="number" v-model.number="salary"
                                class="w-full bg-stone-50 border border-stone-200 rounded-xl py-3 px-4 text-stone-800 text-2xl font-semibold focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500"
                                placeholder="45,800">
                        </div>
                        <div>
                            <label for="bonusA" class="block text-xs font-medium text-stone-500 mb-2">å¹´çµ‚çé‡‘ (æœˆ)</label>
                            <input id="bonusA" type="number" v-model.number="bonus" step="0.5" min="0" max="12"
                                class="w-full bg-stone-50 border border-stone-200 rounded-xl py-2.5 px-4 text-stone-800 focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500">
                        </div>
                        <div>
                            <label class="block text-xs font-medium text-stone-500 mb-2">å‹é€€è‡ªæ (%)</label>
                            <div class="grid grid-cols-3 gap-1">
                                <button v-for="n in [0, 3, 6]" :key="n" @click="pension = n"
                                    :class="['py-2 rounded-lg text-sm font-medium transition-all', 
                                                pension === n ? 'bg-emerald-600 text-white shadow-sm' : 'bg-stone-100 text-stone-500 hover:bg-stone-200']">
                                    {{ n }}%
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- B æ–¹æ¡ˆ (æ¯”è¼ƒç”¨) -->
                    <div v-if="mode === 'compare'" class="space-y-4 border-l border-stone-200 pl-6">
                        <div class="font-bold text-emerald-700 border-b border-stone-200 pb-2 mb-4">æ–¹æ¡ˆ B (æ–° Offer)</div>

                        <div>
                            <label for="salaryB" class="block text-xs font-medium text-stone-500 mb-2">æœˆè–ª (NT$)</label>
                            <input id="salaryB" type="number" v-model.number="salaryB"
                                class="w-full bg-stone-50 border border-stone-200 rounded-xl py-3 px-4 text-stone-800 text-2xl font-semibold focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500"
                                placeholder="50,000">
                        </div>
                        <div>
                            <label for="bonusB" class="block text-xs font-medium text-stone-500 mb-2">å¹´çµ‚çé‡‘ (æœˆ)</label>
                            <input id="bonusB" type="number" v-model.number="bonusB" step="0.5" min="0" max="12"
                                class="w-full bg-stone-50 border border-stone-200 rounded-xl py-2.5 px-4 text-stone-800 focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500">
                        </div>
                        <div>
                            <label class="block text-xs font-medium text-stone-500 mb-2">å‹é€€è‡ªæ (%)</label>
                            <div class="grid grid-cols-3 gap-1">
                                <button v-for="n in [0, 3, 6]" :key="n" @click="pensionB = n"
                                    :class="['py-2 rounded-lg text-sm font-medium transition-all', 
                                                pensionB === n ? 'bg-emerald-600 text-white shadow-sm' : 'bg-stone-100 text-stone-500 hover:bg-stone-200']">
                                    {{ n }}%
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ä¸»è¦çµæœ -->
            <section class="card rounded-2xl p-6 shadow-sm border border-stone-200">
                <!-- å–®äººæ¨¡å¼çµæœ -->
                <div v-if="mode === 'single'">
                    <div class="flex items-start justify-between mb-6">
                        <div>
                            <p class="text-xs text-stone-500 uppercase tracking-wider mb-1">æ¯æœˆå¯¦æ‹¿ (Net Income)</p>
                            <p class="text-4xl sm:text-5xl font-bold text-stone-800 stat-value">
                                <span class="text-emerald-500">$</span>{{ monthlyNet.toLocaleString() }}
                            </p>
                        </div>
                        <div class="text-right">
                            <p class="text-xs text-stone-500 mb-1">å¹´åº¦ç¸½é¡</p>
                            <p class="text-xl font-semibold text-stone-600 stat-value">${{ yearlyNet.toLocaleString() }}
                            </p>
                        </div>
                    </div>

                    <!-- ç”œç”œåœˆåœ– (ä¿ç•™) -->
                    <div class="chart-container mb-6">
                        <canvas ref="donutChart"></canvas>
                    </div>

                    <!-- æ˜ç´° -->
                    <div class="grid grid-cols-2 sm:grid-cols-4 gap-3">
                        <div class="bg-stone-50 rounded-xl p-3 text-center border border-stone-100">
                            <p class="text-xs text-stone-500 mb-1">å‹ä¿è²» (è‡ªä»˜)</p>
                            <p class="text-lg font-semibold text-rose-500 stat-value">-{{ laborIns.toLocaleString() }}
                            </p>
                        </div>
                        <div class="bg-stone-50 rounded-xl p-3 text-center border border-stone-100">
                            <p class="text-xs text-stone-500 mb-1">å¥ä¿è²» (è‡ªä»˜)</p>
                            <p class="text-lg font-semibold text-rose-500 stat-value">-{{ healthIns.toLocaleString() }}
                            </p>
                        </div>
                        <div class="bg-stone-50 rounded-xl p-3 text-center border border-stone-100">
                            <p class="text-xs text-stone-500 mb-1">å‹é€€è‡ªæ</p>
                            <p class="text-lg font-semibold text-amber-500 stat-value">-{{ pensionSelf.toLocaleString()
                                }}</p>
                        </div>
                        <div class="bg-stone-50 rounded-xl p-3 text-center border border-stone-100">
                            <p class="text-xs text-stone-500 mb-1">ç¯€ç¨…/å¹´</p>
                            <p class="text-lg font-semibold text-emerald-600 stat-value">+{{ taxSave.toLocaleString() }}
                            </p>
                        </div>
                    </div>
                </div>

                <!-- æ¯”è¼ƒæ¨¡å¼çµæœ (é›™æ¬„) -->
                <div v-else class="grid grid-cols-2 gap-0">
                    <div class="pr-4 border-r border-stone-200">
                        <p class="text-xs text-stone-400 mb-1 text-center">æ–¹æ¡ˆ A (ç¾è·)</p>
                        <p class="text-2xl font-bold text-stone-800 text-center mb-4">${{ monthlyNet.toLocaleString() }}
                        </p>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between text-stone-500"><span>å‹ä¿</span><span>-{{ laborIns }}</span>
                            </div>
                            <div class="flex justify-between text-stone-500"><span>å¥ä¿</span><span>-{{ healthIns
                                    }}</span></div>
                            <div class="flex justify-between text-stone-500"><span>å¹´è–ª</span><span
                                    class="font-medium text-stone-700">{{ (yearlyNet/10000).toFixed(1) }}è¬</span></div>
                        </div>
                    </div>
                    <div class="pl-4 relative">
                        <!-- å·®ç•°æ¨™è¨˜ -->
                        <div v-if="monthlyNetB - monthlyNet > 0"
                            class="absolute -top-3 right-0 bg-emerald-100 text-emerald-700 text-xs px-2 py-0.5 rounded-full font-bold border border-emerald-200">
                            +${{ (monthlyNetB - monthlyNet).toLocaleString() }}
                        </div>

                        <p class="text-xs text-emerald-600 mb-1 text-center font-bold">æ–¹æ¡ˆ B (æ–° Offer)</p>
                        <p class="text-2xl font-bold text-emerald-700 text-center mb-4">${{ monthlyNetB.toLocaleString()
                            }}</p>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between text-stone-500"><span>å‹ä¿</span><span>-{{ laborInsB
                                    }}</span></div>
                            <div class="flex justify-between text-stone-500"><span>å¥ä¿</span><span>-{{ healthInsB
                                    }}</span></div>
                            <div class="flex justify-between text-stone-500"><span>å¹´è–ª</span><span
                                    class="font-bold text-emerald-600">{{ (yearlyNetB/10000).toFixed(1) }}è¬</span></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 5å¹´é æ¸¬ -->
            <section class="card rounded-2xl p-6 shadow-sm border border-stone-200" v-show="mode === 'single'">
                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-sm font-semibold text-stone-800">5 å¹´è–ªè³‡é æ¸¬</h2>
                    <div class="flex items-center gap-3 text-xs text-stone-500">
                        <label class="flex items-center gap-1">
                            èª¿è–ª
                            <input id="raiseRate" aria-label="æ¯å¹´èª¿è–ªå¹…åº¦" type="number" v-model.number="raiseRate"
                                step="0.5"
                                class="w-12 bg-stone-100 border border-stone-200 rounded px-2 py-1 text-stone-700 text-center">%
                        </label>
                        <label class="flex items-center gap-1">
                            é€šè†¨
                            <input id="inflationRate" aria-label="é ä¼°é€šè†¨ç‡" type="number" v-model.number="inflationRate"
                                step="0.5"
                                class="w-12 bg-stone-100 border border-stone-200 rounded px-2 py-1 text-stone-700 text-center">%
                        </label>
                    </div>
                </div>

                <!-- æŠ˜ç·šåœ– -->
                <div class="chart-container mb-4 h-[200px]">
                    <canvas ref="lineChart"></canvas>
                </div>

                <!-- 5å¹´æ•¸æ“šè¡¨ -->
                <div class="overflow-x-auto">
                    <table class="w-full text-sm">
                        <thead>
                            <tr class="text-stone-400 text-xs">
                                <th class="text-left py-2 font-medium">å¹´ä»½</th>
                                <th class="text-right py-2 font-medium">åç›®å¹´è–ª</th>
                                <th class="text-right py-2 font-medium">å¯¦è³ªè³¼è²·åŠ›</th>
                                <th class="text-right py-2 font-medium">æˆé•·</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr v-for="(row, i) in forecast" :key="i" class="border-t border-stone-100">
                                <td class="py-2 text-stone-500">{{ 2026 + i }}</td>
                                <td class="py-2 text-right font-mono text-stone-700">${{ row.nominal.toLocaleString() }}
                                </td>
                                <td class="py-2 text-right font-mono"
                                    :class="row.real < row.nominal ? 'text-amber-600' : 'text-emerald-600'">${{
                                    row.real.toLocaleString() }}</td>
                                <td class="py-2 text-right text-xs"
                                    :class="row.growth.startsWith('+') ? 'text-emerald-600' : 'text-stone-400'">{{
                                    row.growth }}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- é›‡ä¸»è¦–è§’ -->
            <section class="card rounded-2xl p-6 shadow-sm border border-stone-200" v-if="mode === 'single'">
                <h2 class="text-sm font-semibold text-stone-800 mb-4">ğŸ’¼ é›‡ä¸»è¦–è§’ï¼šå¯¦éš›äººåŠ›æˆæœ¬</h2>
                <div class="grid grid-cols-3 gap-4 text-center">
                    <div>
                        <p class="text-xs text-stone-500 mb-1">ä½ çš„æœˆè–ª</p>
                        <p class="text-lg font-semibold text-stone-700 stat-value">${{ (salary || 0).toLocaleString() }}
                        </p>
                    </div>
                    <div>
                        <p class="text-xs text-stone-500 mb-1">é›‡ä¸»é¡å¤–è² æ“”</p>
                        <p class="text-lg font-semibold text-rose-500 stat-value">+${{ employerCost.toLocaleString() }}
                        </p>
                    </div>
                    <div>
                        <p class="text-xs text-stone-500 mb-1">ç¸½äººåŠ›æˆæœ¬</p>
                        <p class="text-lg font-semibold text-stone-900 stat-value">${{ totalCost.toLocaleString() }}</p>
                    </div>
                </div>
                <p class="text-xs text-stone-400 mt-3 text-center">é›‡ä¸»æ¯æœˆéœ€é¡å¤–è² æ“”å‹ä¿ 70%ã€å¥ä¿ 60%ã€å‹é€€ 6%</p>
            </section>

            <!-- è²»ç‡èªªæ˜ & FAQ (SEO) -->
            <footer class="card rounded-xl p-6 border border-stone-200 bg-stone-50 text-sm text-stone-600 space-y-6">

                <div>
                    <h3 class="font-bold text-stone-800 mb-2">ğŸ“Œ 2026 å¹´æœ€æ–°è²»ç‡ä¾æ“š</h3>
                    <div class="grid grid-cols-2 sm:grid-cols-4 gap-4 text-xs">
                        <div class="bg-white p-2 rounded border border-stone-200">åŸºæœ¬å·¥è³‡ <span
                                class="block text-lg font-bold text-stone-900">$29,500</span></div>
                        <div class="bg-white p-2 rounded border border-stone-200">å‹ä¿è²»ç‡ <span
                                class="block text-lg font-bold text-stone-900">12%</span><span
                                class="text-stone-400 text-[10px]">å«å°±ä¿1%</span></div>
                        <div class="bg-white p-2 rounded border border-stone-200">å¥ä¿è²»ç‡ <span
                                class="block text-lg font-bold text-stone-900">5.17%</span></div>
                        <div class="bg-white p-2 rounded border border-stone-200">å‹é€€ææ’¥ <span
                                class="block text-lg font-bold text-stone-900">6%</span><span
                                class="text-stone-400 text-[10px]">é›‡ä¸»å…¨é¡</span></div>
                    </div>
                </div>

                <div class="space-y-4">
                    <h3 class="font-bold text-stone-800">å¸¸è¦‹å•é¡Œ</h3>
                    <div>
                        <h4 class="font-medium text-stone-700 mb-1">ç‚ºä»€éº¼å¯¦é ˜è–ªæ°´æ¯”é¢è­°çš„å°‘ï¼Ÿ</h4>
                        <p class="text-stone-500 text-xs leading-relaxed">
                            é¢è­°è–ªè³‡é€šå¸¸æŒ‡ã€Œç¨…å‰æœˆè–ªã€(Gross Salary)ï¼Œå¯¦éš›å…¥å¸³æ™‚æœƒæ‰£é™¤ã€Œå‹ä¿è‡ªä»˜é¡ (20%)ã€èˆ‡ã€Œå¥ä¿è‡ªä»˜é¡ (30%)ã€ã€‚è‹¥æ‚¨æœ‰è‡ªé¡˜æç¹³å‹é€€
                            (0~6%)ï¼Œä¹Ÿæœƒä¸€ä½µå¾ç•¶æœˆè–ªè³‡æ‰£é™¤ã€‚
                        </p>
                    </div>
                    <div>
                        <h4 class="font-medium text-stone-700 mb-1">å¹´çµ‚çé‡‘æœƒæ‰£è£œå……ä¿è²»å—ï¼Ÿ</h4>
                        <p class="text-stone-500 text-xs leading-relaxed">
                            ç•¶å–®ç­†çé‡‘è¶…éã€ŒæŠ•ä¿é‡‘é¡çš„ 4 å€ã€æ™‚ï¼Œè¶…éçš„éƒ¨åˆ†æ‰éœ€è¦æ‰£ç¹³ 2.11% çš„äºŒä»£å¥ä¿è£œå……ä¿è²»ã€‚æœ¬è¨ˆç®—æ©Ÿå·²å…§å»ºæ­¤é‚è¼¯ä¼°ç®—ã€‚
                        </p>
                    </div>
                </div>
            </footer>

        </main>

        <footer class="text-center mt-12 text-stone-400 text-sm pb-8 border-t border-stone-100 pt-8">
            <p class="mb-2">Â© 2026 TaiCalc</p>
            <a href="mailto:service@taicalc.com"
                class="text-xs text-stone-300 hover:text-stone-500 transition-colors">å›å ±å•é¡Œ (Report Issue)</a>
        </footer>
    </div>

    <script>
        const { createApp, ref, computed, watch, onMounted } = Vue

        // 2026 è²»ç‡å¸¸æ•¸ & ç´šè·è¡¨
        const LABOR_RATE = 0.12     // 11% Ordinary + 1% Employment
        const LABOR_SHARE = 0.2     // Worker 20%
        const HEALTH_RATE = 0.0517
        const HEALTH_SHARE = 0.3    // Worker 30%

        // 2026 Labor (Min 29500, Max 45800)
        const LABOR_GRADES = [
            29500, 31800, 33300, 34800, 36300, 38200, 40100, 42000, 43900, 45800
        ]

        // 2026 Health (Min 29500, Max 313000)
        const HEALTH_GRADES = [
            29500, 30300, 31800, 33300, 34800, 36300, 38200, 40100, 42000, 43900, 45800,
            48200, 50600, 53000, 55400, 57800, 60800, 63800, 66800, 69800, 72800,
            76500, 80200, 83900, 87600, 92100, 96600, 101100, 105600, 110100, 115500,
            120900, 126300, 131700, 137100, 142500, 147900, 150000, 156400, 162800,
            169200, 175600, 182000, 189500, 197000, 204500, 212000, 219500, 313000
        ]

        // Helper: Find Insured Salary
        const getGrade = (salary, table, max) => {
            if (salary < table[0]) return table[0] // Min floor
            if (salary >= max) return max
            for (let g of table) {
                if (g >= salary) return g
            }
            return max
        }

        createApp({
            setup() {
                const mode = ref('single') // single, compare

                // A æ–¹æ¡ˆ
                const salary = ref(45800)
                const bonus = ref(2)
                const pension = ref(6)

                // B æ–¹æ¡ˆ (æ¯”è¼ƒç”¨)
                const salaryB = ref(50000)
                const bonusB = ref(1)
                const pensionB = ref(0)

                const raiseRate = ref(3)
                const inflationRate = ref(2)

                const donutChart = ref(null)
                const lineChart = ref(null)
                let donutInstance = null
                let lineInstance = null

                // è¨ˆç®—é‚è¼¯å‡½å¼
                const calc = (s, b, p) => {
                    const sal = s || 0

                    // 1. Get Brackets
                    const laborGrade = getGrade(sal, LABOR_GRADES, 45800)
                    const healthGrade = getGrade(sal, HEALTH_GRADES, 313000)

                    // 2. Calc Costs
                    // Worker Labor: Grade * 12% * 20%
                    const labor = Math.round(laborGrade * LABOR_RATE * LABOR_SHARE)

                    // Worker Health: Grade * 5.17% * 30% * (1+0 dependents assumed for basic calc)
                    const health = Math.round(healthGrade * HEALTH_RATE * HEALTH_SHARE)

                    // Pension
                    // Pension Table is capped at 150000. Closely aligned with Health grades up to 150k.
                    const pensionBasis = getGrade(sal, HEALTH_GRADES, 150000)
                    const penS_Real = Math.round(pensionBasis * p / 100)

                    const mNet = sal - labor - health - penS_Real
                    const tSave = Math.round(penS_Real * 12 * 0.12) // Assuming 12% tax bracket
                    const yNet = mNet * 12 + sal * b - (labor + health) * b + tSave

                    // Employer Cost
                    const lg = laborGrade
                    const hg = healthGrade
                    // Employer Labor: Grade * 12% * 70%
                    const empLabor = Math.round(lg * LABOR_RATE * 0.7)
                    // Employer Health: Grade * 5.17% * 60% * 1.58
                    const empHealth = Math.round(hg * HEALTH_RATE * 0.6 * 1.58)
                    // Employer Pension: Grade * 6%
                    const empPension = Math.round(pensionBasis * 0.06)

                    const empCost = empLabor + empHealth + empPension
                    const tCost = sal + empCost

                    return { labor, health, penS: penS_Real, mNet, tSave, yNet, empCost, tCost }
                }

                // A æ–¹æ¡ˆè¨ˆç®—
                const res = computed(() => calc(salary.value, bonus.value, pension.value))

                // B æ–¹æ¡ˆè¨ˆç®—
                const resB = computed(() => calc(salaryB.value, bonusB.value, pensionB.value))

                // ç¶å®šå›å‚³å€¼
                const laborIns = computed(() => res.value.labor)
                const healthIns = computed(() => res.value.health)
                const pensionSelf = computed(() => res.value.penS)
                const monthlyNet = computed(() => res.value.mNet)
                const taxSave = computed(() => res.value.tSave)
                const yearlyNet = computed(() => res.value.yNet)
                const employerCost = computed(() => res.value.empCost)
                const totalCost = computed(() => res.value.tCost)

                // B æ–¹æ¡ˆå›å‚³
                const monthlyNetB = computed(() => resB.value.mNet)
                const yearlyNetB = computed(() => resB.value.yNet)
                const laborInsB = computed(() => resB.value.labor)
                const healthInsB = computed(() => resB.value.health)

                // 5å¹´é æ¸¬
                const forecast = computed(() => {
                    const res = []
                    let s = salary.value || 0
                    let cumInf = 1
                    for (let i = 0; i < 5; i++) {
                        if (i > 0) s = Math.round(s * (1 + raiseRate.value / 100))
                        cumInf *= (1 + inflationRate.value / 100)
                        const nominal = Math.round(s * (12 + bonus.value) * 0.88)
                        const real = Math.round(nominal / cumInf)
                        const growth = i === 0 ? '-' : (real > res[0].real ? `+${Math.round((real / res[0].real - 1) * 100)}%` : `${Math.round((real / res[0].real - 1) * 100)}%`)
                        res.push({ nominal, real, growth })
                    }
                    return res
                })

                // ç¹ªè£½åœ–è¡¨
                const updateCharts = () => {
                    // Donut Chart
                    if (donutInstance) donutInstance.destroy()
                    if (donutChart.value) {
                        donutInstance = new Chart(donutChart.value, {
                            type: 'doughnut',
                            data: {
                                labels: ['å¯¦æ‹¿è–ªè³‡', 'å‹ä¿è²»', 'å¥ä¿è²»', 'å‹é€€è‡ªæ'],
                                datasets: [{
                                    data: [monthlyNet.value, laborIns.value, healthIns.value, pensionSelf.value],
                                    backgroundColor: ['#10b981', '#f43f5e', '#f97316', '#f59e0b'],
                                    borderWidth: 0
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                cutout: '70%',
                                plugins: {
                                    legend: { display: true, position: 'right', labels: { color: '#57534e', font: { size: 11, family: 'Inter' }, usePointStyle: true } }
                                }
                            }
                        })
                    }

                    // Line Chart
                    if (lineInstance) lineInstance.destroy()
                    if (lineChart.value) {
                        lineInstance = new Chart(lineChart.value, {
                            type: 'line',
                            data: {
                                labels: ['2026', '2027', '2028', '2029', '2030'],
                                datasets: [
                                    {
                                        label: 'åç›®å¹´è–ª',
                                        data: forecast.value.map(r => r.nominal),
                                        borderColor: '#10b981',
                                        backgroundColor: 'rgba(16, 185, 129, 0.05)',
                                        fill: true,
                                        tension: 0.3
                                    },
                                    {
                                        label: 'å¯¦è³ªè³¼è²·åŠ›',
                                        data: forecast.value.map(r => r.real),
                                        borderColor: '#f59e0b',
                                        borderDash: [5, 5],
                                        fill: false,
                                        tension: 0.3
                                    }
                                ]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                scales: {
                                    x: { grid: { color: 'rgba(0,0,0,0.05)' }, ticks: { color: '#78716c' } },
                                    y: { grid: { color: 'rgba(0,0,0,0.05)' }, ticks: { color: '#78716c', callback: v => '$' + (v / 10000) + 'è¬' } }
                                },
                                plugins: {
                                    legend: { display: true, position: 'top', labels: { color: '#57534e', font: { size: 11 } } }
                                }
                            }
                        })
                    }
                }

                watch([salary, bonus, pension, raiseRate, inflationRate], updateCharts, { deep: true })
                watch(mode, () => {
                    if (mode.value === 'single') setTimeout(updateCharts, 100)
                })
                onMounted(() => setTimeout(updateCharts, 100))

                return {
                    mode,
                    salary, bonus, pension, raiseRate, inflationRate,
                    salaryB, bonusB, pensionB,
                    donutChart, lineChart,
                    laborIns, healthIns, pensionSelf, monthlyNet, taxSave, yearlyNet,
                    monthlyNetB, yearlyNetB, laborInsB, healthInsB,
                    employerCost, totalCost, forecast
                }
            }
        }).mount('#app')
    </script>
</body>

</html>