<!DOCTYPE html>
<html lang="zh-TW" class="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/favicon.svg" type="image/svg+xml">
    <title>2026 勞健保計算機｜TaiCalc</title>
    <meta name="description" content="2026最新勞健保費用試算。輸入薪資自動對應投保級距，支援一般勞工、職業工會、雇主等身分，精準計算個人與公司負擔金額。">
    <link rel="canonical" href="https://taicalc.com/tools/insurance">

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        stone: {
                            50: '#fafaf9',
                            800: '#292524',
                        }
                    }
                }
            }
        }
    </script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css">
</head>

<body class="bg-stone-50 text-stone-800 min-h-screen flex flex-col font-sans">
    <div id="app" v-cloak class="flex-grow max-w-2xl mx-auto w-full px-4 sm:px-6 py-8">

        <!-- Header / Global Nav -->
        <nav class="flex items-center justify-between mb-8">
            <a href="/index.html" class="flex items-center gap-2 group">
                <span
                    class="text-xl font-bold tracking-tight text-stone-800 group-hover:text-amber-600 transition-colors">TaiCalc</span>
            </a>
            <div class="flex gap-4 sm:gap-6 text-sm font-medium text-stone-500">
                <a href="/index.html" class="hover:text-stone-900 transition-colors">首頁</a>
                <a href="/categories/tools.html" class="hover:text-stone-900 transition-colors">工具</a>
            </div>
        </nav>

        <header class="mb-8">
            <div class="flex items-center justify-between mb-2">
                <h1 class="text-2xl sm:text-3xl font-bold text-stone-800 tracking-tight">勞健保計算機</h1>
                <span
                    class="text-xs px-2.5 py-1 rounded-full bg-blue-100 text-blue-700 border border-blue-200 font-medium">2026年版</span>
            </div>
            <p class="text-stone-500 text-sm">適用 2026 基本工資 29,500 元。自動計算勞保、健保、勞退自行與雇主負擔。</p>
        </header>

        <main class="space-y-6">

            <div class="card bg-white rounded-2xl shadow-sm border border-stone-200 p-6 space-y-6">

                <!-- Identity Selection -->
                <div>
                    <label class="block text-xs font-semibold text-stone-500 mb-2">投保身分</label>
                    <div class="grid grid-cols-3 gap-2">
                        <button v-for="role in roles" :key="role.id" @click="currentRole = role.id"
                            class="py-2.5 px-2 text-sm font-bold rounded-lg border transition-all truncate"
                            :class="currentRole === role.id ? 'bg-stone-800 text-white border-stone-800' : 'bg-white text-stone-500 border-stone-200 hover:bg-stone-50'">
                            {{ role.label }}
                        </button>
                    </div>
                </div>

                <!-- Salary Input -->
                <div>
                    <label class="block text-xs font-semibold text-stone-500 mb-2">月薪收入</label>
                    <div class="relative">
                        <span class="absolute left-4 top-1/2 -translate-y-1/2 text-stone-400">$</span>
                        <input type="number" v-model.number="salary"
                            class="w-full bg-stone-50 border border-stone-200 rounded-xl py-3 pl-8 pr-4 text-stone-800 text-xl font-bold focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all"
                            placeholder="請輸入月薪">
                    </div>
                    <p class="text-xs text-stone-400 mt-2">
                        對應投保級距：<span class="font-bold text-stone-600">{{ fmt(matchedBracket) }}</span> 元
                        <span v-if="salary < 29500" class="text-red-500 ml-1">(低於基本工資 29,500)</span>
                    </p>
                </div>

                <!-- Dependents (Only for some roles/health insurance logic) -->
                <!-- Simplified: General Employee Health Insurance depends on dependents? Yes.
                     Worker Share = Bracket * Rate * (1 + Dependents). Max 3 dependents counted. -->
                <div v-if="currentRole !== 'union'">
                    <!-- Union members usually pay flat rate or full share without employer? checking logic -->
                    <label class="block text-xs font-semibold text-stone-500 mb-2">健保依附眷口數</label>
                    <div class="flex items-center gap-2">
                        <button v-for="n in 5" :key="n-1" @click="dependents = n-1"
                            class="w-10 h-10 rounded-lg border transition-all font-bold text-sm flex items-center justify-center"
                            :class="dependents === n-1 ? 'bg-blue-600 text-white border-blue-600' : 'bg-white text-stone-500 border-stone-200 hover:bg-stone-50'">
                            {{ n-1 }}
                        </button>
                    </div>
                    <p class="text-[10px] text-stone-400 mt-1">超過 3 口以 3 口計算。</p>
                </div>

                <!-- Results -->
                <div class="pt-6 border-t border-stone-100 grid gap-4">

                    <!-- Worker Cost -->
                    <div class="bg-stone-50 rounded-xl p-4 border border-stone-200">
                        <div class="flex justify-between items-end mb-2">
                            <h3 class="text-sm font-bold text-stone-700">個人負擔</h3>
                            <span class="text-2xl font-bold font-mono text-blue-600">{{ fmt(result.workerTotal)
                                }}</span>
                        </div>
                        <div class="space-y-1 text-xs text-stone-500">
                            <div class="flex justify-between">
                                <span>勞保費</span>
                                <span>{{ fmt(result.workerLabor) }}</span>
                            </div>
                            <div class="flex justify-between">
                                <span>健保費</span>
                                <span>{{ fmt(result.workerHealth) }}</span>
                            </div>
                        </div>
                    </div>

                    <!-- Company Cost -->
                    <div v-if="currentRole === 'employee'" class="bg-stone-50 rounded-xl p-4 border border-stone-200">
                        <div class="flex justify-between items-end mb-2">
                            <h3 class="text-sm font-bold text-stone-700">雇主負擔</h3>
                            <span class="text-2xl font-bold font-mono text-stone-600">{{ fmt(result.employerTotal)
                                }}</span>
                        </div>
                        <div class="space-y-1 text-xs text-stone-500">
                            <div class="flex justify-between">
                                <span>勞保費</span>
                                <span>{{ fmt(result.employerLabor) }}</span>
                            </div>
                            <div class="flex justify-between">
                                <span>健保費</span>
                                <span>{{ fmt(result.employerHealth) }}</span>
                            </div>
                            <div class="flex justify-between">
                                <span>勞退 (6%)</span>
                                <span>{{ fmt(result.employerPension) }}</span>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Notes -->
            <div class="text-xs text-stone-400 space-y-1 opacity-80">
                <p>註1：2026年基本工資為 29,500 元。</p>
                <p>註2：勞保普通事故費率 11.5%，就業保險 1%。合計 12.5%。</p>
                <p>註3：健保費率 5.17%。雇主負擔健保費包含平均眷口數 0.58 人。</p>
            </div>
        </main>

        <footer class="text-center mt-12 text-stone-400 text-sm pb-8">
            <p class="mb-2">© 2026 TaiCalc</p>
            <a href="mailto:service@taicalc.com"
                class="text-xs text-stone-300 hover:text-stone-500 transition-colors">回報問題 (Report Issue)</a>
        </footer>
    </div>

    <script>
        const { createApp, ref, computed } = Vue

        // 2026 Labor Insurance Table (Selected grades for lookup)
        const LABOR_GRADES = [
            29500, 31800, 33300, 34800, 36300, 38200, 40100, 42000, 43900, 45800
        ]

        // 2026 Health Insurance Table
        const HEALTH_GRADES = [
            29500, 30300, 31800, 33300, 34800, 36300, 38200, 40100, 42000, 43900, 45800,
            48200, 50600, 53000, 55400, 57800, 60800, 63800, 66800, 69800, 72800,
            76500, 80200, 83900, 87600, 92100, 96600, 101100, 105600, 110100, 115500,
            120900, 126300, 131700, 137100, 142500, 147900, 150000, 156400, 162800,
            169200, 175600, 182000, 189500, 197000, 204500, 212000, 219500, 313000
        ]

        const getInsuredSalary = (salary, table, max) => {
            if (salary < table[0]) return table[0] // Min wage floor
            if (salary >= max) return max
            for (let g of table) {
                if (g >= salary) return g
            }
            return max
        }

        createApp({
            setup() {
                const roles = [
                    { id: 'employee', label: '一般勞工' },
                    { id: 'union', label: '職業工會' },
                    { id: 'employer', label: '雇主/負責人' }
                ]
                const currentRole = ref('employee')
                const salary = ref(35000)
                const dependents = ref(0)

                const fmt = (n) => n ? n.toLocaleString('zh-TW') : '0'

                // Main Logic
                const result = computed(() => {
                    const s = salary.value || 0

                    // Determine Grade
                    const lBracket = getInsuredSalary(s, LABOR_GRADES, 45800)
                    const hBracket = getInsuredSalary(s, HEALTH_GRADES, 313000)
                    const pBracket = getInsuredSalary(s, LABOR_GRADES, 150000) // Pension, logic similar to labor but higher cap? Actually Pension Grades go to 150k. Use Health grades approx or specific logic. Let's use Health grades capped at 150k as approximation if table similar. 
                    // Actually Pension grades are specific but usually align.
                    // Pension cap is 150,000.

                    let wLabor = 0, eLabor = 0
                    let wHealth = 0, eHealth = 0
                    let ePension = 0

                    if (currentRole.value === 'employee') {
                        // Labor: 12% * 20%
                        wLabor = Math.round(lBracket * 0.12 * 0.2)
                        // Health: 5.17% * 30% * (1+Dep)
                        const effDep = Math.min(dependents.value, 3)
                        wHealth = Math.round(hBracket * 0.0517 * 0.3 * (1 + effDep))

                        // Employer: Labor 70%, Health 60% * 1.58
                        eLabor = Math.round(lBracket * 0.12 * 0.7)
                        eHealth = Math.round(hBracket * 0.0517 * 0.6 * 1.58)
                        ePension = Math.round(Math.min(s, 150000) * 0.06) // Pension uses actual wage up to cap usually? Or Grade? 
                        // Pension uses Grade.
                        ePension = Math.round(Math.min(getInsuredSalary(s, HEALTH_GRADES, 150000), 150000) * 0.06)
                    }
                    else if (currentRole.value === 'union') {
                        // Union: Labor 60% (Rate 11% - no Employment Ins). 
                        // Actually Union rate is Ordinary 11%. No employment 1%.
                        wLabor = Math.round(lBracket * 0.11 * 0.6)

                        // Health: 60%
                        const effDep = Math.min(dependents.value, 3)
                        wHealth = Math.round(hBracket * 0.0517 * 0.6 * (1 + effDep))
                    }
                    else if (currentRole.value === 'employer') {
                        // Health: 100% * 5.17% * (1+Dep)
                        const effDep = Math.min(dependents.value, 3)
                        wHealth = Math.round(hBracket * 0.0517 * 1.0 * (1 + effDep))
                        // Labor: Voluntary
                        wLabor = Math.round(lBracket * 0.11)
                    }

                    return {
                        workerLabor: wLabor,
                        workerHealth: wHealth,
                        workerTotal: wLabor + wHealth,
                        employerLabor: eLabor,
                        employerHealth: eHealth,
                        employerPension: ePension,
                        employerTotal: eLabor + eHealth + ePension,
                        laborBracket: lBracket,
                        healthBracket: hBracket
                    }
                })

                return {
                    roles, currentRole,
                    salary, dependents,
                    result, fmt,
                    // Show displayed bracket based on role (usually labor or health dominant)
                    matchedBracket: computed(() => result.value.laborBracket)
                }
            }
        }).mount('#app')
    </script>
</body>

</html>