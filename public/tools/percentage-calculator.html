<!DOCTYPE html>
<html lang="zh-TW" class="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç™¾åˆ†æ¯”è¨ˆç®—æ©Ÿï½œTaiCalc</title>
    <meta name="description" content="å¤šåŠŸèƒ½ç™¾åˆ†æ¯”è¨ˆç®—ï¼šæŠ˜æ‰£æ›ç®—ã€è®ŠåŒ–ç‡æ¼²è·Œã€æ±‚åŸå€¼ã€æ±‚ä½”æ¯”ã€‚è¦–è¦ºåŒ–åœ–è§£ï¼Œæ¸…æ¥šæ˜“æ‡‚ã€‚">
    <link rel="canonical" href="https://taicalc.com/tools/percentage">

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        stone: {
                            50: '#fafaf9',
                            800: '#292524',
                        }
                    }
                }
            }
        }
    </script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
    <style>
        .tab-btn {
            position: relative;
            transition: all 0.3s ease;
        }

        .tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: #9333ea;
        }

        .fade-enter-active,
        .fade-leave-active {
            transition: opacity 0.2s ease;
        }

        .fade-enter-from,
        .fade-leave-to {
            opacity: 0;
        }
    </style>
</head>

<body class="bg-stone-50 text-stone-800 min-h-screen flex flex-col font-sans">
    <div id="app" v-cloak class="flex-grow max-w-2xl mx-auto w-full px-4 sm:px-6 py-8">

        <!-- Header / Global Nav -->
        <nav class="flex items-center justify-between mb-8">
            <a href="../index.html" class="flex items-center gap-2 group">
                <span
                    class="text-xl font-bold tracking-tight text-stone-800 group-hover:text-amber-600 transition-colors">TaiCalc</span>
            </a>
            <div class="flex gap-4 sm:gap-6 text-sm font-medium text-stone-500">
                <a href="../index.html" class="hover:text-stone-900 transition-colors">é¦–é </a>
                <a href="../categories/tools.html" class="hover:text-stone-900 transition-colors">å·¥å…·</a>
            </div>
        </nav>

        <header class="mb-8">
            <div class="flex items-center justify-between mb-2">
                <h1 class="text-2xl sm:text-3xl font-bold text-stone-800 tracking-tight">ç™¾åˆ†æ¯”è¨ˆç®—</h1>
                <span
                    class="text-xs px-2.5 py-1 rounded-full bg-purple-100 text-purple-700 border border-purple-200 font-medium">å¤šåŠŸèƒ½ç‰ˆ</span>
            </div>
            <p class="text-stone-500 text-sm">æŠ˜æ‰£ã€è®ŠåŒ–ç‡ã€åæ¨åŸå€¼ã€ä½”æ¯”è¨ˆç®—ï¼Œé€éåœ–è§£ä¸€æ¬¡ææ‡‚ã€‚</p>
        </header>

        <main class="card bg-white rounded-2xl shadow-sm border border-stone-200 overflow-hidden">

            <!-- Tab Navigation -->
            <div class="flex border-b border-stone-200 overflow-x-auto scrollbar-hide">
                <button v-for="m in modes" :key="m.id" @click="currentMode = m.id"
                    class="flex-1 min-w-[80px] py-4 px-2 text-sm font-medium text-center tab-btn hover:bg-stone-50 whitespace-nowrap"
                    :class="currentMode === m.id ? 'text-purple-700 active font-bold bg-purple-50/50' : 'text-stone-500'">
                    {{ m.label }}
                </button>
            </div>

            <div class="p-6 sm:p-8">
                <!-- Mode Description & Visual -->
                <div class="mb-8 flex items-start gap-4 p-4 bg-stone-50 rounded-xl border border-stone-100">
                    <div class="text-2xl p-2 bg-white rounded-lg shadow-sm border border-stone-100 hidden sm:block">
                        {{ currentModeData.icon }}
                    </div>
                    <div>
                        <h3 class="font-bold text-stone-700 mb-1 flex items-center gap-2">
                            <span class="sm:hidden">{{ currentModeData.icon }}</span>
                            {{ currentModeData.title }}
                        </h3>
                        <p class="text-sm text-stone-500 leading-relaxed">{{ currentModeData.desc }}</p>
                    </div>
                </div>

                <!-- Input Area -->
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 mb-8">
                    <div>
                        <label :for="'inputA-'+currentMode"
                            class="block text-xs font-semibold text-stone-500 mb-2 uppercase tracking-wide">
                            {{ currentModeData.labels.a }}
                        </label>
                        <input :id="'inputA-'+currentMode" type="number" v-model.number="inputA" placeholder="0"
                            class="w-full bg-white border border-stone-200 rounded-xl py-3 px-4 text-stone-800 text-xl font-bold focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all placeholder-stone-300">
                    </div>
                    <div>
                        <label :for="'inputB-'+currentMode"
                            class="block text-xs font-semibold text-stone-500 mb-2 uppercase tracking-wide">
                            {{ currentModeData.labels.b }}
                        </label>
                        <div class="relative">
                            <input :id="'inputB-'+currentMode" type="number" v-model.number="inputB" placeholder="0"
                                class="w-full bg-white border border-stone-200 rounded-xl py-3 px-4 text-stone-800 text-xl font-bold focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all placeholder-stone-300">
                            <span v-if="currentMode === 'discount'"
                                class="absolute right-4 top-3.5 text-stone-400 font-bold text-sm">æŠ˜</span>
                            <span v-if="currentMode === 'findValue' || currentMode === 'findOriginal'"
                                class="absolute right-4 top-3.5 text-stone-400 font-bold text-sm">%</span>
                        </div>
                    </div>
                </div>

                <!-- Result Area -->
                <div
                    class="bg-gradient-to-br from-purple-50 to-indigo-50 rounded-2xl p-6 border border-purple-100 text-center relative overflow-hidden transition-all duration-300">
                    <p class="text-xs font-semibold text-purple-600/70 mb-2 uppercase tracking-wider">è¨ˆç®—çµæœ</p>

                    <transition name="fade" mode="out-in">
                        <div :key="resultText">
                            <p class="text-3xl sm:text-4xl font-bold text-purple-900 tracking-tight font-mono mb-2">
                                {{ resultValue }}
                            </p>
                            <p class="text-sm text-purple-600 font-medium">
                                {{ resultText }}
                            </p>
                        </div>
                    </transition>

                    <!-- Simple Visual Bar -->
                    <div v-if="currentMode === 'discount' || currentMode === 'findPercentage'"
                        class="mt-6 h-2 bg-purple-200/50 rounded-full overflow-hidden flex justify-start">
                        <div class="h-full bg-purple-500 transition-all duration-500"
                            :style="{ width: Math.min(100, Math.max(0, visualPercent)) + '%' }"></div>
                    </div>
                </div>

            </div>
        </main>

        <footer class="text-center mt-12 text-stone-400 text-sm pb-8">
            Â© 2026 TaiCalc
        </footer>
    </div>

    <script>
        const { createApp, ref, computed, watch } = Vue

        createApp({
            setup() {
                const currentMode = ref('discount')
                const inputA = ref(1000)
                const inputB = ref(85) // Default to 8.5æŠ˜ (85) or 20% off depending on context, using common TW notation? 
                // Let's standardise: 
                // Discount: A=Price, B=Discount (e.g. 20% off or 8æŠ˜? Let's use % off for international or æŠ˜ for TW. User said "æŠ˜æ‰£æ›ç®—", mostly means "æ‰“å¹¾æŠ˜" or "å¹¾% off".)
                // Let's use "% off" (e.g. 20% off) vs "Remaining %" (80% / 8æŠ˜).
                // To keep it simple for generic percentage:
                // Mode 1: Discount. Price * (1 - rate%) or Price * (rate/10). In TW, "8æŠ˜" = 80%. Inputting 80 is clear. Inputting 8 for 8æŠ˜ is also common.
                // Let's simplify: Input B is "æŠ˜æ•¸ (ex: 85æŠ˜è¼¸å…¥85)"

                // Reset inputs when mode changes
                watch(currentMode, (newVal) => {
                    switch (newVal) {
                        case 'discount': inputA.value = 1000; inputB.value = 85; break;
                        case 'change': inputA.value = 100; inputB.value = 150; break;
                        case 'findOriginal': inputA.value = 200; inputB.value = 20; break;
                        case 'findPercentage': inputA.value = 50; inputB.value = 200; break;
                    }
                })

                const modes = [
                    { id: 'discount', label: 'æŠ˜æ‰£è¨ˆç®—' },
                    { id: 'change', label: 'è®ŠåŒ–ç‡ (æ¼²è·Œ)' },
                    { id: 'findOriginal', label: 'æ±‚åŸå€¼' },
                    { id: 'findPercentage', label: 'æ±‚ä½”æ¯”' }
                ]

                const modeInfo = {
                    discount: {
                        title: 'æŠ˜æ‰£å¾Œåƒ¹æ ¼',
                        desc: 'è¼¸å…¥åŸåƒ¹å’ŒæŠ˜æ•¸ï¼Œè¨ˆç®—æ‰“æŠ˜å¾Œçš„é‡‘é¡ã€‚ä¾‹å¦‚ï¼šåŸåƒ¹ 1000 å…ƒæ‰“ 85 æŠ˜ã€‚',
                        icon: 'ğŸ·ï¸',
                        labels: { a: 'åŸåƒ¹ ($)', b: 'æŠ˜æ•¸ (ex: 85æŠ˜å¡«85)' }
                    },
                    change: {
                        title: 'è®ŠåŒ–ç‡ (æ¼²è·Œå¹…)',
                        desc: 'è¨ˆç®—æ–°èˆŠæ•¸å€¼ä¹‹é–“çš„è®ŠåŒ–ç™¾åˆ†æ¯”ã€‚ä¾‹å¦‚ï¼šç‡Ÿæ”¶å¾ 100 è¬è®Š 150 è¬ï¼Œæˆé•·äº†å¤šå°‘ï¼Ÿ',
                        icon: 'ğŸ“ˆ',
                        labels: { a: 'åŸå§‹æ•¸å€¼ (èˆŠ)', b: 'æ–°æ•¸å€¼ (æ–°)' }
                    },
                    findOriginal: {
                        title: 'åæ¨åŸå€¼',
                        desc: 'å·²çŸ¥æŸæ•¸æ˜¯åŸå€¼çš„ç™¾åˆ†ä¹‹å¹¾ï¼Œæ±‚åŸå€¼ã€‚ä¾‹å¦‚ï¼š200 æ˜¯åŸåƒ¹çš„ 20%ï¼Œæ±‚åŸåƒ¹ï¼Ÿ',
                        icon: 'ğŸ”™',
                        labels: { a: 'ç¾æœ‰æ•¸å€¼', b: 'ä½”åŸå€¼ç™¾åˆ†æ¯” (%)' }
                    },
                    findPercentage: {
                        title: 'è¨ˆç®—ä½”æ¯”',
                        desc: 'è¨ˆç®—éƒ¨åˆ†å€¼ä½”æ•´é«”çš„ç™¾åˆ†æ¯”ã€‚ä¾‹å¦‚ï¼š50 æ˜¯ 200 çš„ç™¾åˆ†ä¹‹å¹¾ï¼Ÿ',
                        icon: 'ğŸ°',
                        labels: { a: 'éƒ¨åˆ†å€¼', b: 'æ•´é«”å€¼' }
                    }
                }

                const currentModeData = computed(() => modeInfo[currentMode.value])

                const visualPercent = computed(() => {
                    if (currentMode.value === 'discount') return inputB.value || 0
                    if (currentMode.value === 'findPercentage') {
                        if (!inputB.value) return 0
                        return (inputA.value / inputB.value) * 100
                    }
                    return 0
                })

                const calculation = computed(() => {
                    const a = inputA.value || 0
                    const b = inputB.value || 0

                    if (currentMode.value === 'discount') {
                        // b means "85" for 85æŠ˜ (85%)
                        const discountRate = b / 100
                        const finalPrice = a * discountRate
                        const saved = a - finalPrice
                        return {
                            val: finalPrice,
                            text: `åŸåƒ¹ $${a} æ‰“ ${b / 10} æŠ˜ï¼Œçœä¸‹ $${Math.round(saved)}`
                        }
                    } else if (currentMode.value === 'change') {
                        if (a === 0) return { val: 0, text: 'åŸå€¼ä¸èƒ½ç‚º 0' }
                        const change = ((b - a) / a) * 100
                        const sign = change > 0 ? '+' : ''
                        return {
                            val: `${sign}${change.toFixed(2)}%`,
                            text: `${change > 0 ? 'æˆé•·' : 'è¡°é€€'}äº† ${Math.abs(change).toFixed(2)}%`
                        }
                    } else if (currentMode.value === 'findOriginal') {
                        if (b === 0) return { val: 0, text: 'ç™¾åˆ†æ¯”ä¸èƒ½ç‚º 0' }
                        const original = a / (b / 100)
                        return {
                            val: parseFloat(original.toFixed(2)),
                            text: `${a} æ˜¯ ${original} çš„ ${b}%`
                        }
                    } else { // findPercentage
                        if (b === 0) return { val: 0, text: 'æ•´é«”å€¼ä¸èƒ½ç‚º 0' }
                        const pct = (a / b) * 100
                        return {
                            val: `${pct.toFixed(2)}%`,
                            text: `${a} ä½” ${b} çš„ ${pct.toFixed(2)}%`
                        }
                    }
                })

                const resultValue = computed(() => calculation.value.val)
                const resultText = computed(() => calculation.value.text)

                return {
                    currentMode, modes, currentModeData,
                    inputA, inputB,
                    resultValue, resultText, visualPercent
                }
            }
        }).mount('#app')
    </script>
</body>

</html>