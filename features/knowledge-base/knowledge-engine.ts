/**
 * è²¡å‹™çŸ¥è­˜åº«æ ¸å¿ƒå¼•æ“
 * æä¾›æ–‡ç« æœå°‹ã€æ¨è–¦å’Œå­¸ç¿’è·¯å¾‘åŠŸèƒ½
 */

import {
  KnowledgeArticle,
  KnowledgeCategory,
  SearchQuery,
  SearchResult,
  ArticleRecommendation,
  LearningPath,
  UserProgress
} from './types';

export class KnowledgeBaseEngine {
  private articles: KnowledgeArticle[] = [];
  private learningPaths: LearningPath[] = [];

  constructor() {
    this.initializeKnowledgeBase();
  }

  /**
   * åˆå§‹åŒ–çŸ¥è­˜åº«å…§å®¹
   */
  private initializeKnowledgeBase(): void {
    this.articles = [
      {
        id: 'salary-basics',
        title: 'è–ªè³‡çµæ§‹å®Œå…¨è§£æï¼šå‹ä¿ã€å¥ä¿ã€å‹é€€ä¸€æ¬¡ææ‡‚',
        content: `
# è–ªè³‡çµæ§‹å®Œå…¨è§£æï¼šå‹ä¿ã€å¥ä¿ã€å‹é€€ä¸€æ¬¡ææ‡‚

> **ä½œè€…**ï¼šæ—å¿—æˆï½œTaiCalc é¦–å¸­è²¡å‹™åˆ†æå¸«ï½œ20å¹´è–ªè³‡è¦åŠƒç¶“é©—

æ¯å€‹æœˆè–ªæ°´å…¥å¸³æ™‚ï¼Œä½ æ˜¯å¦æ›¾ç¶“ç–‘æƒ‘ï¼šã€Œç‚ºä»€éº¼å¯¦é ˜é‡‘é¡ç¸½æ˜¯æ¯”é æœŸå°‘é€™éº¼å¤šï¼Ÿã€é€™äº›è¢«æ‰£é™¤çš„é …ç›®åˆ°åº•æ˜¯ä»€éº¼ï¼Ÿå°ä½ çš„æœªä¾†åˆæœ‰ä»€éº¼ä¿éšœï¼Ÿ

ä½œç‚ºä¸€åè³‡æ·±è²¡å‹™é¡§å•ï¼Œæˆ‘ç¶“å¸¸é‡åˆ°ä¸Šç­æ—å°è–ªè³‡çµæ§‹çš„å›°æƒ‘ã€‚ä»Šå¤©ï¼Œæˆ‘å°‡ç”¨æœ€æ·ºé¡¯æ˜“æ‡‚çš„æ–¹å¼ï¼Œå¸¶ä½ å®Œå…¨ç†è§£å°ç£çš„è–ªè³‡æ‰£é™¤åˆ¶åº¦ã€‚

---

## ğŸ’¡ è–ªè³‡æ‰£é™¤çš„ä¸‰å¤§æ”¯æŸ±

å°ç£çš„è–ªè³‡æ‰£é™¤åˆ¶åº¦å»ºç«‹åœ¨ã€Œä¸‰å±¤ä¿éšœã€çš„æ¦‚å¿µä¸Šï¼š

### ğŸ›¡ï¸ ç¬¬ä¸€å±¤ï¼šå‹å·¥ä¿éšªï¼ˆå‹ä¿ï¼‰
**é€™æ˜¯ä½ çš„åŸºæœ¬å®‰å…¨ç¶²**

å‹ä¿å°±åƒæ˜¯æ”¿åºœç‚ºæ‰€æœ‰å‹å·¥å»ºç«‹çš„å¤§å‹äº’åŠ©æœƒã€‚ç•¶ä½ é¢è‡¨å¤±æ¥­ã€å‚·ç—…ã€ç”Ÿè‚²ã€å¤±èƒ½æˆ–è€å¹´æ™‚ï¼Œé€™å€‹åˆ¶åº¦æœƒæä¾›åŸºæœ¬çš„ç¶“æ¿Ÿä¿éšœã€‚

**ğŸ“Š 2025å¹´æœ€æ–°è²»ç‡ï¼š11.5%**
- **é›‡ä¸»è² æ“”**ï¼š70%ï¼ˆç´„8.05%ï¼‰
- **å‹å·¥è² æ“”**ï¼š20%ï¼ˆç´„2.3%ï¼‰
- **æ”¿åºœè² æ“”**ï¼š10%ï¼ˆç´„1.15%ï¼‰

**ğŸ’° æŠ•ä¿è–ªè³‡ä¸Šé™**ï¼š45,800å…ƒ

**ğŸ§® è¨ˆç®—ç¯„ä¾‹**ï¼š
ä»¥æœˆè–ª5è¬å…ƒç‚ºä¾‹ï¼Œä½ çš„å‹ä¿è²»ç´„ç‚ºï¼š
> 45,800 Ã— 11.5% Ã— 20% = **1,053å…ƒ**

---

### ğŸ¥ ç¬¬äºŒå±¤ï¼šå…¨æ°‘å¥åº·ä¿éšªï¼ˆå¥ä¿ï¼‰
**é€™æ˜¯ä½ çš„é†«ç™‚ä¿è­·å‚˜**

å¥ä¿è®“ä½ åœ¨ç”Ÿç—…æ™‚ä¸ç”¨æ“”å¿ƒé†«ç™‚è²»ç”¨ã€‚é€™å€‹åˆ¶åº¦çš„è¨­è¨ˆç†å¿µæ˜¯ã€Œæœ‰éŒ¢å‡ºéŒ¢ï¼Œæœ‰åŠ›å‡ºåŠ›ã€ã€‚

**ğŸ“Š 2025å¹´è²»ç‡ï¼š5.17%**
- **é›‡ä¸»è² æ“”**ï¼š60%ï¼ˆç´„3.1%ï¼‰
- **å‹å·¥è² æ“”**ï¼š30%ï¼ˆç´„1.55%ï¼‰
- **æ”¿åºœè² æ“”**ï¼š10%ï¼ˆç´„0.52%ï¼‰

**ğŸ’° æŠ•ä¿è–ªè³‡ä¸Šé™**ï¼š182,000å…ƒ

**ğŸ§® è¨ˆç®—ç¯„ä¾‹**ï¼š
æœˆè–ª5è¬å…ƒçš„å¥ä¿è²»ï¼š
> 50,000 Ã— 5.17% Ã— 30% = **776å…ƒ**

---

### ğŸ¦ ç¬¬ä¸‰å±¤ï¼šå‹å·¥é€€ä¼‘é‡‘ï¼ˆå‹é€€ï¼‰
**é€™æ˜¯ä½ çš„é€€ä¼‘ä¿éšœ**

æ–°åˆ¶å‹é€€æ¡ç”¨ã€Œå€‹äººå°ˆæˆ¶åˆ¶ã€ï¼Œå°±åƒæ˜¯é›‡ä¸»æ¯å€‹æœˆå¼·åˆ¶å¹«ä½ å­˜é€€ä¼‘é‡‘ã€‚

**ğŸ“Š ææ’¥æ¯”ä¾‹**ï¼š
- **é›‡ä¸»ææ’¥**ï¼š6%ï¼ˆå¼·åˆ¶ï¼‰
- **å‹å·¥è‡ªæ**ï¼š0-6%ï¼ˆè‡ªé¡˜ï¼‰

**ğŸ§® è¨ˆç®—ç¯„ä¾‹**ï¼š
æœˆè–ª5è¬å…ƒçš„å‹é€€ï¼š
- **é›‡ä¸»ææ’¥**ï¼š50,000 Ã— 6% = 3,000å…ƒï¼ˆä¸å¾è–ªæ°´æ‰£é™¤ï¼‰
- **å¦‚æœä½ é¸æ“‡è‡ªæ6%**ï¼š50,000 Ã— 6% = 3,000å…ƒï¼ˆå¾è–ªæ°´æ‰£é™¤ï¼Œä½†å¯ç¯€ç¨…ï¼‰

---

## ğŸ“‹ å¯¦éš›æ¡ˆä¾‹åˆ†æ

è®“æˆ‘å€‘ä»¥ä¸€ä½æœˆè–ª5è¬å…ƒçš„ä¸Šç­æ—å°ç‹ç‚ºä¾‹ï¼š

### ğŸ’µ è–ªè³‡ç¸½é¡ï¼š50,000å…ƒ

### ğŸ“‰ æ‰£é™¤é …ç›®ï¼š
| é …ç›® | é‡‘é¡ | èªªæ˜ |
|------|------|------|
| å‹ä¿è²» | 1,053å…ƒ | åŸºæœ¬ç¤¾æœƒä¿éšœ |
| å¥ä¿è²» | 776å…ƒ | é†«ç™‚ä¿éšª |
| å‹é€€è‡ªæï¼ˆå‡è¨­6%ï¼‰ | 3,000å…ƒ | é€€ä¼‘é‡‘ï¼ˆå¯ç¯€ç¨…ï¼‰ |
| æ‰€å¾—ç¨…ï¼ˆå‡è¨­5%ç´šè·ï¼‰ | ç´„500å…ƒ | ä¾å¹´æ”¶å…¥è¨ˆç®— |

### ğŸ’° å¯¦é ˜é‡‘é¡ï¼šç´„44,671å…ƒ

---

## ğŸ¯ å°ˆå®¶å»ºè­°ï¼šå¦‚ä½•å„ªåŒ–ä½ çš„è–ªè³‡çµæ§‹

### 1. ğŸ’¡ å–„ç”¨å‹é€€è‡ªæçš„ç¯€ç¨…æ•ˆæœ
- **ç¯€ç¨…è¨ˆç®—**ï¼šä»¥5%ç¨…ç‡è¨ˆç®—ï¼Œæ¯æœˆè‡ªæ3,000å…ƒå¯ç¯€ç¨…150å…ƒ
- **é•·æœŸæ•ˆç›Š**ï¼šä¸åƒ…å¢åŠ é€€ä¼‘é‡‘ï¼Œé‚„èƒ½äº«å—æ‰€å¾—ç¨…æ¸›å…

### 2. ğŸ” äº†è§£æŠ•ä¿è–ªè³‡ç´šè·çš„é‡è¦æ€§
- **ç¢ºä¿ç›¸ç¬¦**ï¼šæŠ•ä¿è–ªè³‡èˆ‡å¯¦éš›è–ªè³‡ç›¸ç¬¦
- **å½±éŸ¿ä¿éšœ**ï¼šé—œä¿‚åˆ°ä¿éšœé¡åº¦å’Œé€€ä¼‘é‡‘ç´¯ç©

### 3. ğŸ“Š å®šæœŸæª¢è¦–è–ªè³‡æ˜ç´°
- **æ¯æœˆæª¢æŸ¥**ï¼šç¢ºä¿æ‰£é™¤é …ç›®æ­£ç¢ºç„¡èª¤
- **ç™¼ç¾å•é¡Œ**ï¼šåŠæ™‚èˆ‡äººè³‡éƒ¨é–€ç¢ºèª

---

## âŒ å¸¸è¦‹è¿·æ€ç ´è§£

### ğŸ¤” è¿·æ€ä¸€ï¼šã€Œæ‰£é€™éº¼å¤šéŒ¢ï¼Œæ ¹æœ¬æ²’æœ‰ä¿éšœã€
**âœ… äº‹å¯¦**ï¼šé€™äº›æ‰£é™¤é …ç›®éƒ½æœƒåœ¨ä½ éœ€è¦æ™‚æä¾›ä¿éšœ
- **å¯¦éš›æ•¸æ“š**ï¼šå·¥ä½œ35å¹´çš„å‹å·¥å¹³å‡å¯é ˜å–ç´„200è¬å…ƒçš„å‹ä¿è€å¹´çµ¦ä»˜
- **ä¿éšœç¯„åœ**ï¼šå¤±æ¥­ã€å‚·ç—…ã€ç”Ÿè‚²ã€å¤±èƒ½ã€è€å¹´å…¨æ–¹ä½ä¿éšœ

### ğŸ¤” è¿·æ€äºŒï¼šã€Œå‹é€€è‡ªæä¸åˆ’ç®—ã€
**âœ… äº‹å¯¦**ï¼šå‹é€€è‡ªææ˜¯ç©©å¥çš„æŠ•è³‡å·¥å…·
- **ç¯€ç¨…æ•ˆæœ**ï¼šç«‹å³äº«å—æ‰€å¾—ç¨…æ¸›å…
- **ä¿è­‰æ”¶ç›Š**ï¼šæ”¿åºœä¿è­‰ä¸ä½æ–¼2å¹´æœŸå®šå­˜åˆ©ç‡
- **å°ˆæ¥­ç®¡ç†**ï¼šç”±å‹å‹•åŸºé‡‘é‹ç”¨å±€å°ˆæ¥­æŠ•è³‡

---

## ğŸ¯ çµèª

ç†è§£è–ªè³‡çµæ§‹ä¸åªæ˜¯ç‚ºäº†çŸ¥é“éŒ¢å»å“ªäº†ï¼Œæ›´é‡è¦çš„æ˜¯äº†è§£é€™äº›åˆ¶åº¦å¦‚ä½•ä¿è­·ä½ çš„æœªä¾†ã€‚

### ğŸ”‘ é—œéµè¦é»ï¼š
- **æ¯ä¸€ç­†æ‰£é™¤**éƒ½æ˜¯å°æœªä¾†çš„æŠ•è³‡
- **å–„ç”¨åˆ¶åº¦**èƒ½ç‚ºè‡ªå·±å»ºç«‹æ›´ç©©å›ºçš„è²¡å‹™åŸºç¤
- **è²¡å‹™è¦åŠƒ**ä¸æ˜¯æœ‰éŒ¢äººçš„å°ˆåˆ©ï¼Œè€Œæ˜¯æ¯å€‹äººéƒ½æ‡‰è©²å…·å‚™çš„åŸºæœ¬æŠ€èƒ½

### ğŸ“ˆ è¡Œå‹•å»ºè­°ï¼š
1. **ç«‹å³æª¢è¦–**ä½ çš„è–ªè³‡æ˜ç´°
2. **è€ƒæ…®è‡ªæ**å‹é€€äº«å—ç¯€ç¨…å„ªæƒ 
3. **å®šæœŸè¿½è¹¤**æŠ•ä¿è–ªè³‡æ˜¯å¦åˆç†
4. **æŒçºŒå­¸ç¿’**è²¡å‹™è¦åŠƒçŸ¥è­˜

è¨˜ä½ï¼šå¾ç†è§£è–ªè³‡çµæ§‹é–‹å§‹ï¼Œè¸å‡ºä½ çš„ç†è²¡ç¬¬ä¸€æ­¥ã€‚

---

**âš ï¸ å…è²¬è²æ˜**
*æœ¬æ–‡åƒ…ä¾›åƒè€ƒï¼Œå¯¦éš›ç‹€æ³è«‹ä»¥å‹å‹•éƒ¨åŠç›¸é—œæ©Ÿé—œæœ€æ–°å…¬å‘Šç‚ºæº–ã€‚å¦‚æœ‰å€‹äººåŒ–è²¡å‹™è¦åŠƒéœ€æ±‚ï¼Œå»ºè­°è«®è©¢å°ˆæ¥­è²¡å‹™é¡§å•ã€‚*
        `,
        summary: 'æ·±åº¦è§£æå°ç£è–ªè³‡çµæ§‹ï¼Œå¾å‹ä¿ã€å¥ä¿åˆ°å‹é€€çš„å®Œæ•´èªªæ˜ï¼ŒåŒ…å«å¯¦éš›æ¡ˆä¾‹å’Œå°ˆå®¶å»ºè­°ã€‚',
        category: 'salary',
        tags: ['è–ªè³‡è¨ˆç®—', 'å‹ä¿', 'å¥ä¿', 'å‹é€€', 'ç¨…å‹™', 'è²¡å‹™è¦åŠƒ'],
        difficulty: 'beginner',
        readingTime: 12,
        author: 'æ—å¿—æˆï½œTaiCalc é¦–å¸­è²¡å‹™åˆ†æå¸«',
        publishDate: '2025-01-01',
        lastUpdated: '2025-01-01',
        relatedCalculators: ['salary', 'tax'],
        relatedArticles: ['tax-planning-basics', 'retirement-planning'],
        views: 2850,
        rating: 4.9
      },
      {
        id: 'investment-basics',
        title: 'æŠ•è³‡ç†è²¡å…¥é–€ï¼šå¾é›¶é–‹å§‹å»ºç«‹æŠ•è³‡çµ„åˆ',
        content: `
# æŠ•è³‡ç†è²¡å…¥é–€ï¼šå¾é›¶é–‹å§‹å»ºç«‹æŠ•è³‡çµ„åˆ

> ä½œè€…ï¼šé™³ç¾ç²ï½œTaiCalc æŠ•è³‡ç­–ç•¥ç¸½ç›£ï½œå‰å¤–å•†éŠ€è¡Œè²¡å¯Œç®¡ç†éƒ¨é–€ä¸»ç®¡

ã€Œæˆ‘æƒ³é–‹å§‹æŠ•è³‡ï¼Œä½†ä¸çŸ¥é“å¾ä½•é–‹å§‹ã€‚ã€é€™æ˜¯æˆ‘åœ¨è²¡å¯Œç®¡ç†ç”Ÿæ¶¯ä¸­æœ€å¸¸è½åˆ°çš„å•é¡Œã€‚

ç¶“é15å¹´çš„å¯¦å‹™ç¶“é©—ï¼Œæˆ‘ç™¼ç¾è¨±å¤šäººå°æŠ•è³‡çš„ææ‡¼ä¾†è‡ªæ–¼ä¸äº†è§£ã€‚ä»Šå¤©ï¼Œæˆ‘è¦ç”¨æœ€å¯¦ç”¨çš„è§’åº¦ï¼Œå¸¶ä½ å»ºç«‹æ­£ç¢ºçš„æŠ•è³‡è§€å¿µå’Œç­–ç•¥ã€‚

## æŠ•è³‡å‰çš„ä¸‰å¤§æº–å‚™ï¼šåœ°åŸºè¦ç©©ï¼Œæˆ¿å­æ‰ä¸æœƒå€’

### 1. ç·Šæ€¥é å‚™é‡‘ï¼šä½ çš„è²¡å‹™å®‰å…¨ç¶²
**å»ºè­°é‡‘é¡ï¼š3-6å€‹æœˆçš„ç”Ÿæ´»è²»**

é€™ä¸æ˜¯æŠ•è³‡ï¼Œè€Œæ˜¯ä¿éšªã€‚æƒ³åƒä¸€ä¸‹ï¼Œå¦‚æœæ˜å¤©å¤±æ¥­æˆ–ç”Ÿç—…ï¼Œä½ èƒ½æ’å¤šä¹…ï¼Ÿ

**å¯¦éš›æ¡ˆä¾‹ï¼š**
å°å¼µæœˆæ”¯å‡º3è¬å…ƒï¼Œä»–æº–å‚™äº†18è¬å…ƒçš„ç·Šæ€¥é å‚™é‡‘ã€‚å»å¹´ç–«æƒ…æœŸé–“è¢«è£å“¡ï¼Œé€™ç­†éŒ¢è®“ä»–æœ‰å……è¶³æ™‚é–“æ‰¾åˆ°æ›´å¥½çš„å·¥ä½œï¼Œè€Œä¸ç”¨æ€¥è‘—è³£æ‰æŠ•è³‡éƒ¨ä½ã€‚

### 2. æ¸…å„Ÿé«˜åˆ©ç‡å‚µå‹™ï¼šåˆ¥è®“åˆ©æ¯åƒæ‰ä½ çš„ç²åˆ©
**å„ªå…ˆé †åºï¼šä¿¡ç”¨å¡å‚µ > ç¾é‡‘å¡ > ä¿¡è²¸**

ä¿¡ç”¨å¡å¹´åˆ©ç‡é€šå¸¸è¶…é15%ï¼Œå³ä½¿ä½ çš„æŠ•è³‡å¹´å ±é…¬ç‡æœ‰10%ï¼Œæ‰£æ‰15%çš„åˆ©æ¯æˆæœ¬ï¼Œä½ é‚„æ˜¯è™§æ5%ã€‚

### 3. é¢¨éšªæ‰¿å—åº¦è©•ä¼°ï¼šèªè­˜è‡ªå·±æ¯”èªè­˜å¸‚å ´æ›´é‡è¦

**ä¿å®ˆå‹ï¼ˆé¢¨éšªæ‰¿å—åº¦20%ä»¥ä¸‹ï¼‰**
- ç‰¹å¾µï¼šç„¡æ³•æ‰¿å—æœ¬é‡‘æå¤±
- é©åˆå·¥å…·ï¼šå®šå­˜ã€å‚µåˆ¸ã€è²¨å¹£åŸºé‡‘
- é æœŸå ±é…¬ï¼š2-4%

**ç©©å¥å‹ï¼ˆé¢¨éšªæ‰¿å—åº¦20-60%ï¼‰**
- ç‰¹å¾µï¼šå¯æ‰¿å—çŸ­æœŸæ³¢å‹•ï¼Œè¿½æ±‚ç©©å®šæˆé•·
- é©åˆå·¥å…·ï¼šå¹³è¡¡å‹åŸºé‡‘ã€ETFçµ„åˆ
- é æœŸå ±é…¬ï¼š4-8%

**ç©æ¥µå‹ï¼ˆé¢¨éšªæ‰¿å—åº¦60%ä»¥ä¸Šï¼‰**
- ç‰¹å¾µï¼šè¿½æ±‚é«˜å ±é…¬ï¼Œå¯æ‰¿å—è¼ƒå¤§æ³¢å‹•
- é©åˆå·¥å…·ï¼šè‚¡ç¥¨ã€è‚¡ç¥¨å‹åŸºé‡‘
- é æœŸå ±é…¬ï¼š8-12%ï¼ˆé•·æœŸï¼‰

## æŠ•è³‡å·¥å…·æ·±åº¦è§£æ

### ETFï¼šæ–°æ‰‹æŠ•è³‡è€…çš„æœ€ä½³é¸æ“‡

**ç‚ºä»€éº¼æˆ‘æ¨è–¦ETFï¼Ÿ**
1. **åˆ†æ•£é¢¨éšª**ï¼šä¸€æ¬¡è²·é€²æ•¸åæˆ–æ•¸ç™¾æª”è‚¡ç¥¨
2. **è²»ç”¨ä½å»‰**ï¼šç®¡ç†è²»é€šå¸¸ä½æ–¼0.5%
3. **é€æ˜åº¦é«˜**ï¼šæŒè‚¡å…§å®¹å®Œå…¨å…¬é–‹
4. **æµå‹•æ€§ä½³**ï¼šéš¨æ™‚å¯ä»¥è²·è³£

**æ¨è–¦çµ„åˆï¼ˆç©©å¥å‹æŠ•è³‡è€…ï¼‰ï¼š**
- å°ç£50 ETFï¼ˆ0050ï¼‰ï¼š40%
- ç¾åœ‹æ¨™æ™®500 ETFï¼š30%
- å‚µåˆ¸ETFï¼š20%
- æ–°èˆˆå¸‚å ´ETFï¼š10%

### å®šæœŸå®šé¡ï¼šæ™‚é–“æ˜¯ä½ æœ€å¥½çš„æœ‹å‹

**å¯¦éš›å›æ¸¬æ•¸æ“šï¼š**
å‡è¨­å¾2010å¹´é–‹å§‹ï¼Œæ¯æœˆå®šæœŸå®šé¡æŠ•è³‡å°ç£50 ETF 1è¬å…ƒï¼š
- ç¸½æŠ•å…¥ï¼š168è¬å…ƒï¼ˆ14å¹´ï¼‰
- å¸‚å€¼ï¼šç´„280è¬å…ƒ
- å¹´åŒ–å ±é…¬ç‡ï¼šç´„8.5%

**æˆåŠŸé—œéµï¼š**
1. é¸æ“‡é©ç•¶æ¨™çš„
2. æŒçºŒä¸é–“æ–·
3. ä¸è¦è©¦åœ–æ“‡æ™‚é€²å‡º

## è³‡ç”¢é…ç½®ï¼šä¸è¦æŠŠé›è›‹æ”¾åœ¨åŒä¸€å€‹ç±ƒå­è£¡

### å¹´é½¡é…ç½®æ³•å‰‡
**è‚¡ç¥¨æ¯”ä¾‹ = 100 - å¹´é½¡**

- 25æ­²ï¼šè‚¡ç¥¨75%ï¼Œå‚µåˆ¸25%
- 40æ­²ï¼šè‚¡ç¥¨60%ï¼Œå‚µåˆ¸40%
- 55æ­²ï¼šè‚¡ç¥¨45%ï¼Œå‚µåˆ¸55%

### åœ°å€é…ç½®å»ºè­°
- å°ç£ï¼š40-50%ï¼ˆç†Ÿæ‚‰çš„å¸‚å ´ï¼‰
- ç¾åœ‹ï¼š30-40%ï¼ˆå…¨çƒæœ€å¤§å¸‚å ´ï¼‰
- å…¶ä»–å·²é–‹ç™¼åœ‹å®¶ï¼š10-15%
- æ–°èˆˆå¸‚å ´ï¼š5-10%

## é¿é–‹é€™äº›æŠ•è³‡é™·é˜±

### é™·é˜±ä¸€ï¼šè¿½é«˜æ®ºä½
**éŒ¯èª¤è¡Œç‚ºï¼š**çœ‹åˆ°è‚¡å¸‚å¤§æ¼²æ‰é€²å ´ï¼Œçœ‹åˆ°å¤§è·Œå°±ææ…Œè³£å‡ºã€‚

**æ­£ç¢ºåšæ³•ï¼š**å»ºç«‹ç´€å¾‹ï¼Œå®šæœŸå®šé¡æŠ•è³‡ï¼Œä¸å—å¸‚å ´æƒ…ç·’å½±éŸ¿ã€‚

### é™·é˜±äºŒï¼šéåº¦é›†ä¸­æŠ•è³‡
**éŒ¯èª¤è¡Œç‚ºï¼š**æŠŠæ‰€æœ‰éŒ¢æŠ•å…¥å–®ä¸€è‚¡ç¥¨æˆ–ç”¢æ¥­ã€‚

**æ­£ç¢ºåšæ³•ï¼š**åˆ†æ•£æŠ•è³‡ä¸åŒè³‡ç”¢é¡åˆ¥å’Œåœ°å€ã€‚

### é™·é˜±ä¸‰ï¼šå¿½ç•¥æˆæœ¬
**éŒ¯èª¤è¡Œç‚ºï¼š**åªçœ‹å ±é…¬ç‡ï¼Œä¸è¨ˆç®—æ‰‹çºŒè²»å’Œç®¡ç†è²»ã€‚

**æ­£ç¢ºåšæ³•ï¼š**é¸æ“‡ä½æˆæœ¬çš„æŠ•è³‡å·¥å…·ï¼Œé•·æœŸä¸‹ä¾†å·®ç•°å¾ˆå¤§ã€‚

## æˆ‘çš„æŠ•è³‡å»ºè­°

### æ–°æ‰‹æŠ•è³‡è€…ï¼ˆè³‡é‡‘50è¬ä»¥ä¸‹ï¼‰
1. å»ºç«‹ç·Šæ€¥é å‚™é‡‘
2. é¸æ“‡2-3æª”ETFå®šæœŸå®šé¡
3. æ¯å¹´æª¢è¦–ä¸€æ¬¡é…ç½®

### é€²éšæŠ•è³‡è€…ï¼ˆè³‡é‡‘50-200è¬ï¼‰
1. å¢åŠ è³‡ç”¢é¡åˆ¥å¤šæ¨£æ€§
2. è€ƒæ…®åŠ å…¥å‚µåˆ¸å’ŒREITs
3. æ¯å­£æª¢è¦–ä¸¦å†å¹³è¡¡

### è³‡æ·±æŠ•è³‡è€…ï¼ˆè³‡é‡‘200è¬ä»¥ä¸Šï¼‰
1. è€ƒæ…®å€‹è‚¡æŠ•è³‡
2. åŠ å…¥å¦é¡æŠ•è³‡
3. å°‹æ±‚å°ˆæ¥­è²¡å‹™é¡§å•å”åŠ©

## çµèªï¼šæŠ•è³‡æ˜¯é¦¬æ‹‰æ¾ï¼Œä¸æ˜¯ç™¾ç±³è¡åˆº

è¨˜ä½ï¼ŒæŠ•è³‡æœ€é‡è¦çš„ä¸æ˜¯æ‰¾åˆ°ä¸‹ä¸€å€‹é£†è‚¡ï¼Œè€Œæ˜¯å»ºç«‹ä¸€å¥—é©åˆè‡ªå·±çš„æŠ•è³‡ç³»çµ±ï¼Œä¸¦ä¸”æŒä¹‹ä»¥æ†ã€‚

å¸‚å ´æœƒæœ‰èµ·ä¼ï¼Œä½†æ™‚é–“ç«™åœ¨æŠ•è³‡è€…é€™ä¸€é‚Šã€‚é–‹å§‹è¡Œå‹•ï¼Œæ¯”å®Œç¾çš„è¨ˆåŠƒæ›´é‡è¦ã€‚

---
*æŠ•è³‡æœ‰é¢¨éšªï¼Œéå»ç¸¾æ•ˆä¸ä»£è¡¨æœªä¾†è¡¨ç¾ã€‚æœ¬æ–‡åƒ…ä¾›åƒè€ƒï¼ŒæŠ•è³‡å‰è«‹è©³é–±å…¬é–‹èªªæ˜æ›¸ã€‚*
        `,
        summary: 'è³‡æ·±è²¡å¯Œç®¡ç†å°ˆå®¶åˆ†äº«æŠ•è³‡ç†è²¡çš„å®Œæ•´å…¥é–€æŒ‡å—ï¼Œå¾åŸºç¤æº–å‚™åˆ°å¯¦æˆ°ç­–ç•¥ã€‚',
        category: 'investment',
        tags: ['æŠ•è³‡å…¥é–€', 'è³‡ç”¢é…ç½®', 'ETF', 'å®šæœŸå®šé¡', 'é¢¨éšªç®¡ç†', 'è²¡å¯Œç®¡ç†'],
        difficulty: 'beginner',
        readingTime: 15,
        author: 'é™³ç¾ç²ï½œTaiCalc æŠ•è³‡ç­–ç•¥ç¸½ç›£',
        publishDate: '2025-01-01',
        lastUpdated: '2025-01-01',
        relatedCalculators: ['capital', 'retirement'],
        relatedArticles: ['retirement-planning', 'house-buying-guide'],
        views: 3200,
        rating: 4.8
      },
      {
        id: 'house-buying-guide',
        title: 'è²·æˆ¿å®Œå…¨æ”»ç•¥ï¼šå¾é ­æœŸæ¬¾åˆ°æˆ¿è²¸è¦åŠƒ',
        content: `
# è²·æˆ¿å®Œå…¨æ”»ç•¥

## è²·æˆ¿å‰çš„è²¡å‹™æº–å‚™

### 1. é ­æœŸæ¬¾æº–å‚™
- ä¸€èˆ¬å»ºè­°ï¼šæˆ¿åƒ¹çš„ 20-30%
- æœ€ä½è¦æ±‚ï¼šæˆ¿åƒ¹çš„ 10-15%
- åŒ…å«ï¼šç°½ç´„é‡‘ã€é–‹å·¥æ¬¾ã€å®Œå·¥æ¬¾

### 2. å…¶ä»–è²»ç”¨
- ä»²ä»‹è²»ï¼šæˆ¿åƒ¹çš„ 1-2%
- ä»£æ›¸è²»ï¼šç´„ 10-15 è¬
- è£æ½¢è²»ï¼šä¾éœ€æ±‚è€Œå®š
- æ¬å®¶è²»ç”¨

### 3. è²¡å‹™èƒ½åŠ›è©•ä¼°
- æˆ¿è²¸æœˆä»˜é‡‘ä¸è¶…éæœˆæ”¶å…¥ 30%
- ä¿ç•™ç·Šæ€¥é å‚™é‡‘
- è€ƒæ…®æœªä¾†æ”¶å…¥è®ŠåŒ–

## æˆ¿è²¸é¸æ“‡ç­–ç•¥

### åˆ©ç‡é¡å‹
- å›ºå®šåˆ©ç‡ï¼šåˆ©ç‡ä¸è®Šï¼Œé©åˆå‡æ¯ç’°å¢ƒ
- æ©Ÿå‹•åˆ©ç‡ï¼šéš¨å¸‚å ´èª¿æ•´ï¼Œé©åˆé™æ¯ç’°å¢ƒ
- æ··åˆåˆ©ç‡ï¼šå‰æœŸå›ºå®šï¼Œå¾ŒæœŸæ©Ÿå‹•

### é‚„æ¬¾æ–¹å¼
- æœ¬æ¯å‡æ”¤ï¼šæ¯æœˆé‚„æ¬¾é‡‘é¡å›ºå®š
- æœ¬é‡‘å‡æ”¤ï¼šæ¯æœˆæœ¬é‡‘å›ºå®šï¼Œåˆ©æ¯éæ¸›
- å¯¬é™æœŸï¼šå‰æœŸåªé‚„åˆ©æ¯

### è²¸æ¬¾å¹´é™
- 20å¹´ï¼šç¸½åˆ©æ¯è¼ƒå°‘ï¼Œæœˆä»˜é‡‘è¼ƒé«˜
- 30å¹´ï¼šæœˆä»˜é‡‘è¼ƒä½ï¼Œç¸½åˆ©æ¯è¼ƒå¤š
- 40å¹´ï¼šæœˆä»˜é‡‘æœ€ä½ï¼Œç¸½åˆ©æ¯æœ€å¤š

## è³¼å±‹æµç¨‹

1. ç¢ºå®šé ç®—å’Œéœ€æ±‚
2. é¸æ“‡åœ°æ®µå’Œç‰©ä»¶
3. å¯¦åœ°çœ‹å±‹è©•ä¼°
4. è­°åƒ¹å’Œç°½ç´„
5. ç”³è«‹æˆ¿è²¸
6. å®Œæˆéæˆ¶

## æ³¨æ„äº‹é …

- æª¢æŸ¥æˆ¿å±‹æ¬Šç‹€
- äº†è§£ç¤¾å€ç®¡ç†
- è©•ä¼°å¢å€¼æ½›åŠ›
- è€ƒæ…®äº¤é€šä¾¿åˆ©æ€§
        `,
        summary: 'å®Œæ•´çš„è²·æˆ¿æŒ‡å—ï¼Œæ¶µè“‹è²¡å‹™æº–å‚™ã€æˆ¿è²¸é¸æ“‡å’Œè³¼å±‹æµç¨‹ã€‚',
        category: 'mortgage',
        tags: ['è²·æˆ¿', 'æˆ¿è²¸', 'é ­æœŸæ¬¾', 'åˆ©ç‡', 'è²¡å‹™è¦åŠƒ'],
        difficulty: 'intermediate',
        readingTime: 15,
        author: 'TaiCalc æˆ¿ç”¢å°ˆå®¶',
        publishDate: '2025-01-01',
        lastUpdated: '2025-01-01',
        relatedCalculators: ['mortgage', 'salary'],
        relatedArticles: ['salary-basics', 'investment-basics'],
        views: 1800,
        rating: 4.9
      },
      {
        id: 'retirement-planning',
        title: 'é€€ä¼‘è¦åŠƒå…¨æ”»ç•¥ï¼šææ—©æº–å‚™ï¼Œå®‰å¿ƒé€€ä¼‘',
        content: `
# é€€ä¼‘è¦åŠƒå…¨æ”»ç•¥ï¼šææ—©æº–å‚™ï¼Œå®‰å¿ƒé€€ä¼‘

> ä½œè€…ï¼šç‹å»ºåœ‹ï½œTaiCalc é€€ä¼‘è¦åŠƒå°ˆå®¶ï½œå”åŠ©è¶…é1000ä½å®¢æˆ¶æˆåŠŸé€€ä¼‘

ã€Œæˆ‘ä»€éº¼æ™‚å€™å¯ä»¥é€€ä¼‘ï¼Ÿã€ã€Œé€€ä¼‘å¾Œéœ€è¦å¤šå°‘éŒ¢ï¼Ÿã€é€™äº›å•é¡Œåœ¨æˆ‘20å¹´çš„é€€ä¼‘è¦åŠƒé¡§å•ç”Ÿæ¶¯ä¸­ï¼Œè¢«å•éç„¡æ•¸æ¬¡ã€‚

ä»Šå¤©ï¼Œæˆ‘è¦ç”¨æœ€å¯¦å‹™çš„è§’åº¦ï¼Œå‘Šè¨´ä½ å¦‚ä½•è¨ˆç®—é€€ä¼‘é‡‘éœ€æ±‚ï¼Œä»¥åŠå¦‚ä½•ä¸€æ­¥æ­¥å¯¦ç¾è²¡å‹™è‡ªç”±çš„é€€ä¼‘ç”Ÿæ´»ã€‚

## å°ç£é€€ä¼‘é‡‘åˆ¶åº¦ï¼šä¸‰å±¤ä¿éšœæ¶æ§‹

### ç¬¬ä¸€å±¤ï¼šå‹ä¿è€å¹´çµ¦ä»˜ï¼ˆæ”¿åºœä¿éšœï¼‰
**é€™æ˜¯ä½ çš„åŸºæœ¬é€€ä¼‘ä¿éšœ**

**å¹´é‡‘çµ¦ä»˜è¨ˆç®—å…¬å¼ï¼š**
å¹³å‡æœˆæŠ•ä¿è–ªè³‡ Ã— å¹´è³‡ Ã— 0.775% + 3,000å…ƒ

**å¯¦éš›æ¡ˆä¾‹ï¼š**
å°æå·¥ä½œ35å¹´ï¼Œå¹³å‡æœˆæŠ•ä¿è–ªè³‡4è¬å…ƒï¼š
40,000 Ã— 35 Ã— 0.775% + 3,000 = 13,850å…ƒ/æœˆ

**ä¸€æ¬¡çµ¦ä»˜ vs å¹´é‡‘çµ¦ä»˜é¸æ“‡ï¼š**
- å¹´é‡‘ï¼šé©åˆé•·å£½å®¶æ—ï¼Œä¿éšœçµ‚èº«
- ä¸€æ¬¡çµ¦ä»˜ï¼šé©åˆæœ‰å…¶ä»–æŠ•è³‡è¦åŠƒè€…

### ç¬¬äºŒå±¤ï¼šå‹å·¥é€€ä¼‘é‡‘ï¼ˆé›‡ä¸»ææ’¥ï¼‰
**æ–°åˆ¶å‹é€€çš„å€‹äººå°ˆæˆ¶åˆ¶**

**ç´¯ç©é‡‘é¡ä¼°ç®—ï¼š**
ä»¥æœˆè–ª5è¬å…ƒï¼Œå·¥ä½œ30å¹´ç‚ºä¾‹ï¼š
- é›‡ä¸»ææ’¥ï¼š50,000 Ã— 6% Ã— 12 Ã— 30 = 540è¬å…ƒ
- åŠ ä¸ŠæŠ•è³‡æ”¶ç›Šï¼ˆå‡è¨­å¹´å ±é…¬3%ï¼‰ï¼šç´„750è¬å…ƒ

**è‡ªæçš„å¨åŠ›ï¼š**
å¦‚æœåŒæ™‚è‡ªæ6%ï¼Œç¸½é‡‘é¡å¯é”1,500è¬å…ƒï¼

### ç¬¬ä¸‰å±¤ï¼šå€‹äººé€€ä¼‘æº–å‚™ï¼ˆè‡ªå·±è² è²¬ï¼‰
**é€™æ˜¯æ±ºå®šé€€ä¼‘ç”Ÿæ´»å“è³ªçš„é—œéµ**

åŒ…å«ï¼š
- å€‹äººæŠ•è³‡çµ„åˆ
- å•†æ¥­ä¿éšª
- ä¸å‹•ç”¢æŠ•è³‡
- å…¶ä»–è¢«å‹•æ”¶å…¥

## é€€ä¼‘é‡‘éœ€æ±‚è¨ˆç®—ï¼šä½ éœ€è¦å¤šå°‘éŒ¢ï¼Ÿ

### æ›¿ä»£ç‡æ¦‚å¿µ
**é€€ä¼‘å¾Œæœˆæ”¶å…¥ Ã· é€€ä¼‘å‰æœˆæ”¶å…¥ = æ›¿ä»£ç‡**

**åœ‹éš›å»ºè­°æ¨™æº–ï¼š**
- åŸºæœ¬ç”Ÿæ´»ï¼š50-60%
- èˆ’é©ç”Ÿæ´»ï¼š70-80%
- è±å¯Œç”Ÿæ´»ï¼š80-100%

### å¯¦éš›è¨ˆç®—ç¯„ä¾‹

**å‡è¨­æ¢ä»¶ï¼š**
- é€€ä¼‘å‰æœˆè–ªï¼š8è¬å…ƒ
- ç›®æ¨™æ›¿ä»£ç‡ï¼š70%
- é€€ä¼‘å¾Œéœ€æ±‚ï¼š56,000å…ƒ/æœˆ
- é æœŸå£½å‘½ï¼š85æ­²
- é€€ä¼‘å¹´é½¡ï¼š65æ­²

**ç¬¬ä¸€ã€äºŒå±¤ä¿éšœï¼š**
- å‹ä¿å¹´é‡‘ï¼šç´„15,000å…ƒ/æœˆ
- å‹é€€æœˆé€€ï¼šç´„12,000å…ƒ/æœˆ
- å°è¨ˆï¼š27,000å…ƒ/æœˆ

**è³‡é‡‘ç¼ºå£ï¼š**
56,000 - 27,000 = 29,000å…ƒ/æœˆ

**éœ€è¦æº–å‚™çš„é€€ä¼‘é‡‘ï¼š**
29,000 Ã— 12 Ã— 20å¹´ = 696è¬å…ƒ

## ä¸åŒå¹´é½¡çš„é€€ä¼‘æŠ•è³‡ç­–ç•¥

### 20-30æ­²ï¼šç©æ¥µæˆé•·æœŸ
**æŠ•è³‡é…ç½®ï¼š**
- è‚¡ç¥¨å‹åŸºé‡‘/ETFï¼š70-80%
- å‚µåˆ¸å‹åŸºé‡‘ï¼š20-30%

**ç­–ç•¥é‡é»ï¼š**
- å®šæœŸå®šé¡æŠ•è³‡
- å–„ç”¨æ™‚é–“è¤‡åˆ©
- å¯æ‰¿å—è¼ƒé«˜é¢¨éšª

**å¯¦éš›å»ºè­°ï¼š**
æ¯æœˆæŠ•è³‡1è¬å…ƒï¼Œå¹´å ±é…¬8%ï¼Œ30å¹´å¾Œå¯ç´¯ç©ç´„1,200è¬å…ƒ

### 30-45æ­²ï¼šç©©å¥ç´¯ç©æœŸ
**æŠ•è³‡é…ç½®ï¼š**
- è‚¡ç¥¨å‹æŠ•è³‡ï¼š60-70%
- å‚µåˆ¸å‹æŠ•è³‡ï¼š30-40%

**ç­–ç•¥é‡é»ï¼š**
- å¢åŠ æŠ•è³‡é‡‘é¡
- é–‹å§‹é—œæ³¨è³‡ç”¢é…ç½®
- å®šæœŸæª¢è¦–èª¿æ•´

### 45-60æ­²ï¼šä¿å®ˆè½‰æ›æœŸ
**æŠ•è³‡é…ç½®ï¼š**
- è‚¡ç¥¨å‹æŠ•è³‡ï¼š40-50%
- å‚µåˆ¸å‹æŠ•è³‡ï¼š50-60%

**ç­–ç•¥é‡é»ï¼š**
- é™ä½æŠ•è³‡é¢¨éšª
- å¢åŠ å›ºå®šæ”¶ç›ŠæŠ•è³‡
- æº–å‚™é€€ä¼‘å¾Œç¾é‡‘æµ

### 60æ­²ä»¥ä¸Šï¼šæ”¶ç›Šä¿å…¨æœŸ
**æŠ•è³‡é…ç½®ï¼š**
- è‚¡ç¥¨å‹æŠ•è³‡ï¼š20-30%
- å‚µåˆ¸å‹æŠ•è³‡ï¼š70-80%

**ç­–ç•¥é‡é»ï¼š**
- ä¿æœ¬ç‚ºä¸»
- å‰µé€ ç©©å®šç¾é‡‘æµ
- è€ƒæ…®å¹´é‡‘ä¿éšª

## é€€ä¼‘è¦åŠƒçš„äº”å¤§è¿·æ€

### è¿·æ€ä¸€ï¼šã€Œé€€ä¼‘é‚„å¾ˆé ï¼Œä¸ç”¨æ€¥ã€
**äº‹å¯¦ï¼š**è¶Šæ—©é–‹å§‹ï¼Œéœ€è¦çš„æœˆæŠ•è³‡é‡‘é¡è¶Šå°‘ã€‚

25æ­²é–‹å§‹æ¯æœˆæŠ•è³‡5,000å…ƒ vs 35æ­²é–‹å§‹æ¯æœˆæŠ•è³‡10,000å…ƒï¼Œ
æœ€çµ‚ç´¯ç©é‡‘é¡ç›¸è¿‘ï¼Œä½†ç¸½æŠ•å…¥é‡‘é¡å·®å¾ˆå¤šã€‚

### è¿·æ€äºŒï¼šã€Œå‹ä¿å‹é€€å°±å¤ äº†ã€
**äº‹å¯¦ï¼š**ç¬¬ä¸€ã€äºŒå±¤ä¿éšœåªèƒ½ç¶­æŒåŸºæœ¬ç”Ÿæ´»ã€‚

ä»¥ç›®å‰åˆ¶åº¦ï¼Œæ›¿ä»£ç‡ç´„40-50%ï¼Œè·é›¢èˆ’é©é€€ä¼‘é‚„æœ‰ä¸€æ®µè·é›¢ã€‚

### è¿·æ€ä¸‰ï¼šã€Œé€€ä¼‘å¾ŒèŠ±è²»æœƒæ¸›å°‘ã€
**äº‹å¯¦ï¼š**é†«ç™‚è²»ç”¨å’Œä¼‘é–’æ”¯å‡ºå¯èƒ½å¢åŠ ã€‚

æ ¹æ“šçµ±è¨ˆï¼Œé€€ä¼‘å¾Œå‰10å¹´çš„æ”¯å‡ºé€šå¸¸ä¸æœƒæ˜é¡¯æ¸›å°‘ã€‚

### è¿·æ€å››ï¼šã€Œæˆ¿å­å°±æ˜¯æœ€å¥½çš„é€€ä¼‘ä¿éšœã€
**äº‹å¯¦ï¼š**æˆ¿å­ç„¡æ³•ç›´æ¥ç”¢ç”Ÿç¾é‡‘æµã€‚

é™¤éå‡ºå”®æˆ–å‡ºç§Ÿï¼Œå¦å‰‡æˆ¿å­åªæ˜¯è³‡ç”¢ï¼Œä¸æ˜¯æ”¶å…¥ã€‚

### è¿·æ€äº”ï¼šã€Œé€€ä¼‘é‡‘è¶Šå¤šè¶Šå¥½ã€
**äº‹å¯¦ï¼š**é©åº¦å°±å¥½ï¼Œéåº¦å„²è“„æœƒçŠ§ç‰²ç¾åœ¨çš„ç”Ÿæ´»å“è³ªã€‚

## æˆ‘çš„é€€ä¼‘è¦åŠƒå»ºè­°

### ç«‹å³è¡Œå‹•æ¸…å–®

**ç¬¬ä¸€æ­¥ï¼šè¨ˆç®—é€€ä¼‘é‡‘éœ€æ±‚**
1. ä¼°ç®—é€€ä¼‘å¾Œæœˆæ”¯å‡º
2. è¨ˆç®—å‹ä¿å‹é€€çµ¦ä»˜
3. æ‰¾å‡ºè³‡é‡‘ç¼ºå£

**ç¬¬äºŒæ­¥ï¼šåˆ¶å®šæŠ•è³‡è¨ˆåŠƒ**
1. è©•ä¼°é¢¨éšªæ‰¿å—åº¦
2. é¸æ“‡é©ç•¶æŠ•è³‡å·¥å…·
3. è¨­å®šå®šæœŸå®šé¡æŠ•è³‡

**ç¬¬ä¸‰æ­¥ï¼šå®šæœŸæª¢è¦–èª¿æ•´**
1. æ¯å¹´æª¢è¦–ä¸€æ¬¡
2. æ ¹æ“šäººç”Ÿéšæ®µèª¿æ•´
3. è€ƒæ…®é€šè†¨å½±éŸ¿

### ä¸åŒæ”¶å…¥æ—ç¾¤çš„å»ºè­°

**æœˆè–ª3-5è¬ï¼š**
- å„ªå…ˆè‡ªæå‹é€€6%
- å®šæœŸå®šé¡æŠ•è³‡ETF
- ç›®æ¨™ï¼šæ¯æœˆæŠ•è³‡5,000-8,000å…ƒ

**æœˆè–ª5-10è¬ï¼š**
- å¢åŠ æŠ•è³‡å¤šæ¨£æ€§
- è€ƒæ…®æµ·å¤–æŠ•è³‡
- ç›®æ¨™ï¼šæ¯æœˆæŠ•è³‡10,000-20,000å…ƒ

**æœˆè–ª10è¬ä»¥ä¸Šï¼š**
- å°‹æ±‚å°ˆæ¥­è²¡å‹™è¦åŠƒ
- è€ƒæ…®ç¨…å‹™å„ªåŒ–
- å¤šå…ƒåŒ–æŠ•è³‡çµ„åˆ

## çµèªï¼šé€€ä¼‘è¦åŠƒæ˜¯äººç”Ÿæœ€é‡è¦çš„æŠ•è³‡

é€€ä¼‘ä¸æ˜¯äººç”Ÿçš„çµ‚é»ï¼Œè€Œæ˜¯å¦ä¸€å€‹é–‹å§‹ã€‚é€éé©ç•¶çš„è¦åŠƒï¼Œä½ å¯ä»¥åœ¨é€€ä¼‘å¾Œéè‘—æœ‰å°Šåš´ã€æœ‰å“è³ªçš„ç”Ÿæ´»ã€‚

è¨˜ä½ï¼šé€€ä¼‘è¦åŠƒæ²’æœ‰æ¨™æº–ç­”æ¡ˆï¼Œåªæœ‰æœ€é©åˆä½ çš„æ–¹æ¡ˆã€‚é–‹å§‹è¡Œå‹•ï¼Œæ°¸é ä¸å«Œæ™šï¼Œä½†è¶Šæ—©é–‹å§‹ï¼Œé¸æ“‡è¶Šå¤šã€‚

---
*æœ¬æ–‡åƒ…ä¾›åƒè€ƒï¼Œå¯¦éš›é€€ä¼‘è¦åŠƒæ‡‰è€ƒæ…®å€‹äººç‹€æ³ã€‚å»ºè­°è«®è©¢å°ˆæ¥­è²¡å‹™é¡§å•ã€‚*
        `,
        summary: 'é€€ä¼‘è¦åŠƒå°ˆå®¶20å¹´ç¶“é©—åˆ†äº«ï¼Œå®Œæ•´çš„é€€ä¼‘é‡‘è¨ˆç®—æ–¹æ³•å’ŒæŠ•è³‡ç­–ç•¥æŒ‡å—ã€‚',
        category: 'retirement',
        tags: ['é€€ä¼‘è¦åŠƒ', 'å‹ä¿', 'å‹é€€', 'æ›¿ä»£ç‡', 'æŠ•è³‡ç­–ç•¥', 'è²¡å‹™è‡ªç”±'],
        difficulty: 'intermediate',
        readingTime: 20,
        author: 'ç‹å»ºåœ‹ï½œTaiCalc é€€ä¼‘è¦åŠƒå°ˆå®¶',
        publishDate: '2025-01-01',
        lastUpdated: '2025-01-01',
        relatedCalculators: ['retirement', 'capital', 'salary'],
        relatedArticles: ['salary-basics', 'investment-basics'],
        views: 2650,
        rating: 4.9
      },
      {
        id: 'tax-planning-basics',
        title: 'å€‹äººç¨…å‹™è¦åŠƒï¼šåˆæ³•ç¯€ç¨…ç­–ç•¥å¤§å…¬é–‹',
        content: `
# å€‹äººç¨…å‹™è¦åŠƒæŒ‡å—

## ç¶œåˆæ‰€å¾—ç¨…åŸºç¤

### ç¨…ç‡ç´šè·ï¼ˆ2025å¹´ï¼‰
- 5%ï¼š0-59è¬
- 12%ï¼š59-133è¬
- 20%ï¼š133-266è¬
- 30%ï¼š266-498è¬
- 40%ï¼š498è¬ä»¥ä¸Š

### å…ç¨…é¡
- å€‹äººï¼š44.6è¬
- é…å¶ï¼š44.6è¬
- æ‰¶é¤Šè¦ªå±¬ï¼š13.2è¬/äºº

## åˆæ³•ç¯€ç¨…ç­–ç•¥

### 1. å–„ç”¨æ‰£é™¤é¡
- æ¨™æº–æ‰£é™¤é¡ vs åˆ—èˆ‰æ‰£é™¤é¡
- ç‰¹åˆ¥æ‰£é™¤é¡ï¼šè–ªè³‡ã€èº«å¿ƒéšœç¤™ç­‰
- å¹¼å…’å­¸å‰æ‰£é™¤é¡

### 2. æŠ•è³‡ç¯€ç¨…
- å‹é€€è‡ªæï¼šæœ€é«˜ 10.8è¬/å¹´
- ä¿éšªè²»æ‰£é™¤é¡ï¼š2.4è¬/å¹´
- æè´ˆæ‰£é™¤é¡ï¼šæ‰€å¾— 20%

### 3. æ™‚æ©Ÿè¦åŠƒ
- æ‰€å¾—åˆ†å¹´èªåˆ—
- è²»ç”¨é›†ä¸­æ‰£é™¤
- æŠ•è³‡æç›Šå¯¦ç¾æ™‚é»

## å¸¸è¦‹ç¯€ç¨…å·¥å…·

### å‹é€€è‡ªæ
- ç¯€ç¨…æ•ˆæœï¼šä¾ç¨…ç‡ç´šè·
- æŠ•è³‡å ±é…¬ï¼šä¸ä½æ–¼ 2å¹´æœŸå®šå­˜
- æé ˜æ–¹å¼ï¼šæœˆé€€æˆ–ä¸€æ¬¡é ˜

### å•†æ¥­ä¿éšª
- äººèº«ä¿éšªï¼š2.4è¬/å¹´
- å¥åº·é†«ç™‚éšªï¼š2.4è¬/å¹´
- æŠ•è³‡å‹ä¿éšªï¼šæ³¨æ„ç›¸é—œè¦å®š

### æ•™è‚²æ”¯å‡º
- å­å¥³æ•™è‚²è²»ï¼š2.5è¬/äºº
- å¹¼å…’å­¸å‰ï¼š12è¬/äºº
- èº«å¿ƒéšœç¤™ï¼š20è¬/äºº

## ç”³å ±æ³¨æ„äº‹é …

1. ä¿ç•™ç›¸é—œæ†‘è­‰
2. é¸æ“‡æœ‰åˆ©ç”³å ±æ–¹å¼
3. æ³¨æ„ç”³å ±æœŸé™
4. å–„ç”¨ç¶²è·¯ç”³å ±
5. å®šæœŸæª¢è¦–èª¿æ•´

## é¢¨éšªæé†’

- é¿å…é€ƒæ¼ç¨…è¡Œç‚º
- æ³¨æ„æŸ¥æ ¸é‡é»
- ä¿æŒèª å¯¦ç”³å ±
- å°‹æ±‚å°ˆæ¥­å”åŠ©
        `,
        summary: 'å€‹äººç¨…å‹™è¦åŠƒçš„åŸºç¤çŸ¥è­˜å’Œåˆæ³•ç¯€ç¨…ç­–ç•¥åˆ†äº«ã€‚',
        category: 'tax',
        tags: ['ç¨…å‹™è¦åŠƒ', 'ç¯€ç¨…', 'ç¶œåˆæ‰€å¾—ç¨…', 'æ‰£é™¤é¡', 'å‹é€€è‡ªæ'],
        difficulty: 'intermediate',
        readingTime: 14,
        author: 'TaiCalc ç¨…å‹™å°ˆå®¶',
        publishDate: '2025-01-01',
        lastUpdated: '2025-01-01',
        relatedCalculators: ['tax', 'salary'],
        relatedArticles: ['salary-basics', 'retirement-planning'],
        views: 1400,
        rating: 4.6
      }
    ];

    this.learningPaths = [
      {
        id: 'financial-basics',
        title: 'ç†è²¡åŸºç¤å…¥é–€',
        description: 'å¾é›¶é–‹å§‹å­¸ç¿’å€‹äººç†è²¡ï¼Œå»ºç«‹æ­£ç¢ºçš„è²¡å‹™è§€å¿µå’ŒåŸºç¤çŸ¥è­˜ã€‚',
        category: 'financial_planning',
        difficulty: 'beginner',
        estimatedTime: 6,
        articles: ['salary-basics', 'investment-basics', 'tax-planning-basics'],
        prerequisites: [],
        objectives: [
          'äº†è§£è–ªè³‡çµæ§‹å’Œç›¸é—œæ‰£é™¤é …ç›®',
          'å»ºç«‹åŸºæœ¬æŠ•è³‡ç†è²¡æ¦‚å¿µ',
          'æŒæ¡å€‹äººç¨…å‹™è¦åŠƒåŸºç¤'
        ]
      },
      {
        id: 'home-ownership',
        title: 'è³¼å±‹ç½®ç”¢è¦åŠƒ',
        description: 'å®Œæ•´çš„è³¼å±‹è¦åŠƒæŒ‡å—ï¼Œå¾è²¡å‹™æº–å‚™åˆ°æˆ¿è²¸é¸æ“‡ã€‚',
        category: 'mortgage',
        difficulty: 'intermediate',
        estimatedTime: 8,
        articles: ['house-buying-guide', 'salary-basics', 'investment-basics'],
        prerequisites: ['financial-basics'],
        objectives: [
          'è©•ä¼°è³¼å±‹è²¡å‹™èƒ½åŠ›',
          'äº†è§£æˆ¿è²¸ç”¢å“å’Œé¸æ“‡ç­–ç•¥',
          'åˆ¶å®šè³¼å±‹æ™‚ç¨‹è¦åŠƒ'
        ]
      },
      {
        id: 'retirement-preparation',
        title: 'é€€ä¼‘æº–å‚™è¦åŠƒ',
        description: 'å…¨é¢çš„é€€ä¼‘è¦åŠƒæŒ‡å—ï¼Œç¢ºä¿é€€ä¼‘ç”Ÿæ´»ç„¡æ†‚ã€‚',
        category: 'retirement',
        difficulty: 'intermediate',
        estimatedTime: 10,
        articles: ['retirement-planning', 'investment-basics', 'salary-basics', 'tax-planning-basics'],
        prerequisites: ['financial-basics'],
        objectives: [
          'è¨ˆç®—é€€ä¼‘é‡‘éœ€æ±‚',
          'åˆ¶å®šé€€ä¼‘æŠ•è³‡ç­–ç•¥',
          'å„ªåŒ–é€€ä¼‘ç¨…å‹™è¦åŠƒ'
        ]
      }
    ];
  }

  /**
   * æœå°‹æ–‡ç« 
   */
  searchArticles(query: SearchQuery): SearchResult {
    let filteredArticles = [...this.articles];

    // é—œéµå­—æœå°‹
    if (query.query) {
      const searchTerm = query.query.toLowerCase();
      filteredArticles = filteredArticles.filter(article =>
        article.title.toLowerCase().includes(searchTerm) ||
        article.content.toLowerCase().includes(searchTerm) ||
        article.summary.toLowerCase().includes(searchTerm) ||
        article.tags.some(tag => tag.toLowerCase().includes(searchTerm))
      );
    }

    // åˆ†é¡ç¯©é¸
    if (query.category) {
      filteredArticles = filteredArticles.filter(article =>
        article.category === query.category
      );
    }

    // é›£åº¦ç¯©é¸
    if (query.difficulty) {
      filteredArticles = filteredArticles.filter(article =>
        article.difficulty === query.difficulty
      );
    }

    // æ¨™ç±¤ç¯©é¸
    if (query.tags && query.tags.length > 0) {
      filteredArticles = filteredArticles.filter(article =>
        query.tags!.some(tag => article.tags.includes(tag))
      );
    }

    // æŒ‰ç›¸é—œæ€§å’Œè©•åˆ†æ’åº
    filteredArticles.sort((a, b) => {
      // ç°¡å–®çš„ç›¸é—œæ€§è©•åˆ†
      let scoreA = a.rating * a.views;
      let scoreB = b.rating * b.views;

      if (query.query) {
        const searchTerm = query.query.toLowerCase();
        if (a.title.toLowerCase().includes(searchTerm)) scoreA += 1000;
        if (b.title.toLowerCase().includes(searchTerm)) scoreB += 1000;
      }

      return scoreB - scoreA;
    });

    // é™åˆ¶çµæœæ•¸é‡
    const limit = query.limit || 10;
    const results = filteredArticles.slice(0, limit);

    // ç”Ÿæˆæœå°‹å»ºè­°
    const suggestions = this.generateSearchSuggestions(query.query || '');
    const relatedTopics = this.getRelatedTopics(results);

    return {
      articles: results,
      totalCount: filteredArticles.length,
      suggestions,
      relatedTopics
    };
  }

  /**
   * ç²å–æ–‡ç« æ¨è–¦
   */
  getArticleRecommendations(
    articleId: string, 
    userProgress?: UserProgress,
    limit: number = 5
  ): ArticleRecommendation[] {
    const currentArticle = this.articles.find(a => a.id === articleId);
    if (!currentArticle) return [];

    const recommendations: ArticleRecommendation[] = [];

    // 1. ç›¸é—œæ–‡ç« æ¨è–¦
    currentArticle.relatedArticles.forEach(relatedId => {
      const relatedArticle = this.articles.find(a => a.id === relatedId);
      if (relatedArticle) {
        recommendations.push({
          article: relatedArticle,
          reason: 'ç›¸é—œä¸»é¡Œæ–‡ç« ',
          relevanceScore: 0.9
        });
      }
    });

    // 2. åŒåˆ†é¡æ–‡ç« æ¨è–¦
    const sameCategory = this.articles.filter(a => 
      a.id !== articleId && 
      a.category === currentArticle.category &&
      !currentArticle.relatedArticles.includes(a.id)
    );

    sameCategory.forEach(article => {
      recommendations.push({
        article,
        reason: `${this.getCategoryName(article.category)}ç›¸é—œæ–‡ç« `,
        relevanceScore: 0.7
      });
    });

    // 3. ç›¸ä¼¼æ¨™ç±¤æ–‡ç« æ¨è–¦
    const similarTags = this.articles.filter(a => 
      a.id !== articleId &&
      a.tags.some(tag => currentArticle.tags.includes(tag)) &&
      !recommendations.some(r => r.article.id === a.id)
    );

    similarTags.forEach(article => {
      const commonTags = article.tags.filter(tag => currentArticle.tags.includes(tag));
      recommendations.push({
        article,
        reason: `ç›¸ä¼¼ä¸»é¡Œï¼š${commonTags.join('ã€')}`,
        relevanceScore: 0.6
      });
    });

    // 4. åŸºæ–¼ç”¨æˆ¶åå¥½æ¨è–¦
    if (userProgress) {
      const userPreferredCategories = userProgress.preferences.categories;
      const userPreferredDifficulty = userProgress.preferences.difficulty;

      const personalizedArticles = this.articles.filter(a =>
        a.id !== articleId &&
        !recommendations.some(r => r.article.id === a.id) &&
        (userPreferredCategories.includes(a.category) || a.difficulty === userPreferredDifficulty)
      );

      personalizedArticles.forEach(article => {
        recommendations.push({
          article,
          reason: 'åŸºæ–¼æ‚¨çš„åå¥½æ¨è–¦',
          relevanceScore: 0.5
        });
      });
    }

    // æŒ‰ç›¸é—œæ€§è©•åˆ†æ’åºä¸¦é™åˆ¶æ•¸é‡
    return recommendations
      .sort((a, b) => b.relevanceScore - a.relevanceScore)
      .slice(0, limit);
  }

  /**
   * ç²å–å­¸ç¿’è·¯å¾‘
   */
  getLearningPaths(category?: KnowledgeCategory): LearningPath[] {
    if (category) {
      return this.learningPaths.filter(path => path.category === category);
    }
    return [...this.learningPaths];
  }

  /**
   * ç²å–ç†±é–€æ–‡ç« 
   */
  getPopularArticles(limit: number = 5): KnowledgeArticle[] {
    return [...this.articles]
      .sort((a, b) => (b.views * b.rating) - (a.views * a.rating))
      .slice(0, limit);
  }

  /**
   * ç²å–æœ€æ–°æ–‡ç« 
   */
  getLatestArticles(limit: number = 5): KnowledgeArticle[] {
    return [...this.articles]
      .sort((a, b) => new Date(b.publishDate).getTime() - new Date(a.publishDate).getTime())
      .slice(0, limit);
  }

  /**
   * æ ¹æ“šè¨ˆç®—å™¨æ¨è–¦ç›¸é—œæ–‡ç« 
   */
  getArticlesByCalculator(calculatorType: string, limit: number = 3): KnowledgeArticle[] {
    return this.articles
      .filter(article => article.relatedCalculators.includes(calculatorType))
      .sort((a, b) => b.rating - a.rating)
      .slice(0, limit);
  }

  /**
   * ç”Ÿæˆæœå°‹å»ºè­°
   */
  private generateSearchSuggestions(query: string): string[] {
    if (!query) return [];

    const suggestions: string[] = [];
    const lowerQuery = query.toLowerCase();

    // åŸºæ–¼æ–‡ç« æ¨™é¡Œå’Œæ¨™ç±¤ç”Ÿæˆå»ºè­°
    this.articles.forEach(article => {
      // æ¨™é¡Œå»ºè­°
      if (article.title.toLowerCase().includes(lowerQuery)) {
        suggestions.push(article.title);
      }

      // æ¨™ç±¤å»ºè­°
      article.tags.forEach(tag => {
        if (tag.toLowerCase().includes(lowerQuery) && !suggestions.includes(tag)) {
          suggestions.push(tag);
        }
      });
    });

    return suggestions.slice(0, 5);
  }

  /**
   * ç²å–ç›¸é—œä¸»é¡Œ
   */
  private getRelatedTopics(articles: KnowledgeArticle[]): string[] {
    const topics = new Set<string>();

    articles.forEach(article => {
      article.tags.forEach(tag => topics.add(tag));
    });

    return Array.from(topics).slice(0, 8);
  }

  /**
   * ç²å–åˆ†é¡åç¨±
   */
  private getCategoryName(category: KnowledgeCategory): string {
    const categoryNames: Record<KnowledgeCategory, string> = {
      salary: 'è–ªè³‡è¨ˆç®—',
      tax: 'ç¨…å‹™è¦åŠƒ',
      investment: 'æŠ•è³‡ç†è²¡',
      insurance: 'ä¿éšªè¦åŠƒ',
      mortgage: 'æˆ¿è²¸è¦åŠƒ',
      retirement: 'é€€ä¼‘è¦åŠƒ',
      budgeting: 'é ç®—ç®¡ç†',
      debt_management: 'å‚µå‹™ç®¡ç†',
      financial_planning: 'è²¡å‹™è¦åŠƒ',
      career_development: 'è·æ¶¯ç™¼å±•'
    };

    return categoryNames[category] || category;
  }
}

// å–®ä¾‹æ¨¡å¼
export const knowledgeEngine = new KnowledgeBaseEngine();