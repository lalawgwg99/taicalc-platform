---
---
<nav class="flex items-center justify-between mb-16 py-4 bg-white/80 backdrop-blur-md sticky top-0 z-50 rounded-2xl border border-stone-200/50 px-6 shadow-sm">
    <a href="/" class="flex items-center gap-3 group">
        <!-- Logo Icon -->
        <div class="relative w-10 h-10 bg-gradient-to-br from-primary to-primary-dark rounded-xl flex items-center justify-center shadow-lg shadow-primary/25 group-hover:shadow-primary/40 transition-shadow">
            <span class="text-white font-black text-xl">T</span>
            <div class="absolute -bottom-1 -right-1 w-3 h-3 bg-accent-amber rounded-full border-2 border-white"></div>
        </div>
        <!-- Logo Text -->
        <div class="flex flex-col leading-none">
            <span class="text-xl font-black tracking-tight bg-gradient-to-r from-stone-900 via-stone-700 to-stone-900 bg-clip-text text-transparent">TaiCalc</span>
            <span class="text-[10px] text-stone-400 tracking-widest uppercase">台灣財務計算</span>
        </div>
    </a>

    <!-- Desktop Menu -->
    <div class="hidden md:flex gap-6 text-sm">
        <a href="/" class="nav-link">首頁</a>
        <a href="/dashboard.html" class="nav-link font-bold text-emerald-600">儀表板</a>
        <a href="/tools/salary-calculator.html" class="nav-link">薪資計算</a>
        <a href="/tools/mortgage-calculator.html" class="nav-link">房貸規劃</a>
        <a href="/tools/fire-calculator.html" class="nav-link">退休規劃</a>
        <a href="/tools" class="nav-link">工具庫</a>
        <a href="/blog" class="nav-link">專欄文章</a>
    </div>

    <!-- Mobile Menu Button -->
    <button id="menu-btn" class="md:hidden text-stone-500 hover:text-stone-800 p-2" aria-label="開啟選單">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="4" x2="20" y1="12" y2="12" />
            <line x1="4" x2="20" y1="6" y2="6" />
            <line x1="4" x2="20" y1="18" y2="18" />
        </svg>
    </button>
</nav>

<!-- Mobile Menu Overlay -->
<div id="mobile-menu" class="hidden fixed inset-0 z-40 bg-white/95 backdrop-blur-xl pt-24 px-6 transition-opacity duration-200">
    <div class="flex flex-col gap-6 text-xl font-medium text-stone-800 items-center">
        <a href="/" class="hover:text-emerald-600 menu-link">首頁</a>
        <a href="/dashboard.html" class="text-emerald-600 font-bold menu-link">個人儀表板</a>
        <div class="w-16 h-[1px] bg-stone-100 my-2"></div>
        <a href="/tools/salary-calculator.html" class="hover:text-emerald-600 menu-link">薪資計算</a>
        <a href="/tools/mortgage-calculator.html" class="hover:text-emerald-600 menu-link">房貸規劃</a>
        <a href="/tools/fire-calculator.html" class="hover:text-emerald-600 menu-link">退休規劃</a>
        <a href="/tools" class="hover:text-emerald-600 menu-link">工具庫</a>
        <div class="w-16 h-[1px] bg-stone-100 my-2"></div>
        <a href="/blog" class="hover:text-emerald-600 menu-link">專欄文章</a>
        
        <button id="close-menu-btn" class="mt-8 text-stone-400 text-sm">關閉選單</button>
    </div>
</div>

<script>
    const menuBtn = document.getElementById('menu-btn');
    const closeMenuBtn = document.getElementById('close-menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');
    const menuLinks = document.querySelectorAll('.menu-link');

    if (menuBtn && closeMenuBtn && mobileMenu) {
        // Open
        menuBtn.addEventListener('click', () => {
            mobileMenu.classList.remove('hidden');
            document.body.style.overflow = 'hidden'; // Stop scrolling
        });

        // Close
        const closeMenu = () => {
            mobileMenu.classList.add('hidden');
            document.body.style.overflow = ''; // Resume scrolling
        };

        closeMenuBtn.addEventListener('click', closeMenu);

        // Close when clicking a link
        menuLinks.forEach(link => {
            link.addEventListener('click', closeMenu);
        });
    }
</script>
